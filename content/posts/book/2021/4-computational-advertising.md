Title: [Book] 計算廣告：互聯網商業變現的市場與技術
Date: 2021-02-13 22:35
Category: Book
Tags: Learning, Advertising
Slug: computational-advertising
Authors: Lee-W
Status: draft


[TOC]

因為這本書是簡體的
所以可能會有中國用語
我用 [opencc-python](https://github.com/yichen0831/opencc-python) 簡轉繁

<!--more-->

## 前言
* If you can't measure it, you can't manage it.

- 傳統企業中，一般會根據產品線分設若干事業部，每個事業部在研發自己產品的同時，還要對營收和利潤負責。而在互聯網企業或者按照互聯網方式運營的企業中，還存在另外一種組織方式，即面向用戶的免費產品部門只負責優化產品體驗，不對營收負責，而專門面向客戶的商業產品部門通過廣告等後向變現方式爲企業創造營收。

## Ch 1 在線廣告概述

* 免費模式的本質是將那些能夠規模化、個性化傳播信息的商品，以邊際成本的價格出售。

- 考察上面提到的例子，網站等軟件產品多服務一個用戶的邊際成本很小，因此這些產品都不收費，這是狹義的免費，而手機等硬件產品，邊際成本即是量產成本，因此以毛利爲零左右的價格出售，這是廣義的免費

- 這類免費產品在傳播信息的過程中，獲得了3項可變現的核心
    1. 流量的價值是，有人使用你的產品，你便可以在產品本身的功能之外夾帶一些付費內容（sponsored content）
    2. 數據。有人在使用你的產品的過程中留下了一些行爲和屬性，比如搜過某個關鍵詞，瀏覽過某個商品，填寫過自己的性別，這些都是數據。根據這些數據，你可以更好地瞭解該用戶的屬性、偏好等信息。基於這些信息，可以調整投放付費內容的策略以提高效率。
    3. 影響力。影響力指的是你的產品或內容獲得了高於普通水準的關注與信任。
        - 近年來迅速崛起的大量網紅和自媒體，實際上主要靠影響力而非流量和數據變現。如果將從公衆號軟文（影響力變現）標價與文末展示廣告（流量和數據變現）收入進行對比，前者的價格往往是後者的數十倍。現有的在線廣告體系並不能很好地處理這種以影響力爲主要資產的媒體變現，這也是未來一個有趣的探索方向。

- 將這3項資產通過商業產品的形式轉變成收入的過程，即商業化（monetization）過程，與用戶使用免費產品的過程是分離的，因此稱爲後向變現。
    1. 數據來源、處理方式和應用方向這3個角度來看，大數據問題都有鮮明的特點。
    2. 行爲數據。傳統的數據處理任務往往面對的是交易數據。
        - 全量加工。如果數據規模很大，並且問題無法通過採樣來降低處理的複雜程度，那就必須利用一些專門爲海量數據處理而設計的計算和存儲
    3. 自動化應用。
        - 一種是洞察（insight）應用，即對數據進行統計分析後得到整體的結果報表，再由決策者根據結果進行決策。
        - 使用數據的應用有兩種類型。
        - 自動化（automation）應用，即將數據處理的結果直接送給對業務進行自動決策的引擎。計算廣告正是典型的自動化應用，從用戶行爲數據收集，到受衆定向，再到線上根據用戶標籤的自動決策，整個過程都是自動進行的，人的作用只是建立流程和調整策略。電

- 廣告是由已確定的出資人通過各種媒介進行的有關產品（商品、服務和觀點）的，通常是有償的、有組織的、綜合的、勸服性的非人員的信息傳播活動。

- 傳統廣告的目的主要是藉助媒體的力量來快速接觸大量用戶，以達到宣傳品牌形象，提升中長期購買率與利潤空間的目的。我們稱這種目的的廣告爲品牌廣告（brand awareness）。

- 許多廣告商希望能利用廣告手段馬上帶來大量的購買或其他轉化行爲，我們稱這種目的的廣告爲直接效果廣告（direct response），有時簡稱爲效果廣告。

- 廣告的根本目的是廣告主通過媒體達到低成本的用戶接觸。

- 廣告的“低成本”是與那些由市場或銷售人員完成的勸服活動成本相對而言的，實際上是廣告搭了媒體流量和影響力的便車。要確定是否真的成本較低，需要用到投入產出比（Return on Investment，ROI）這一評價指標，即
    1. 橫幅廣告（banner ad）。這是展示廣告中最傳統的形式。
    2. 文字鏈廣告（textual ad）。這種廣告的素材形式是一段鏈接到廣告主落地頁的文字，是搜索廣告的主流形式，在展示廣告中也被廣泛採用。
    3. 富媒體廣告（rich media ad）。這類廣告利用視覺衝擊力較強的表現形式，向用戶侵入式地投送廣告素材。富媒體廣告常見的形式有彈窗、對聯、全屏等。它比較適合在高質量的媒體做品牌性質較強的廣告投放，但是對用戶的使用體驗往往影響也較大
    4. 視頻廣告（video ad）。
        * 視頻廣告有幾種主要的形式。
        * 根據插入位置的不同，視頻廣告又可以分爲前插片、後插片、暫停等
        * 在信息流中插入的視頻廣告。在Wi-Fi場景下往往自動播放，其效果遠優於普通的信息流展示廣告。
        * 手機遊戲中的激勵視頻廣告。它主要是利用遊戲中的積分獎勵，刺激用戶主動觀看視頻廣告，這種廣告往往觀看率較高，廣告效果也較好。
    5. 交互式廣告（playable ad）
    6. 社交廣告（social ad）
        * 社交網絡的興起給廣告傳播的渠道和能力都賦予了新的空間。在社交網絡中嵌入的廣告，可以統稱爲社交廣告。
    7. 移動廣告（mobile ad）
        * 嚴格來說，移動廣告與桌面廣告沒有本質的區別，只是由於移動原生應用的大量普及，廣告也由Web頁面搬進了應用裏。
    8. 郵件營銷廣告（Email Direct Marketing，EDM）
        * 非常容易變成垃圾郵件的主要來源。對EDM的運營者而言，精準地把握用戶興趣，非常有節制地向用戶提供相關信息非常關鍵。
    9. 激勵廣告（incentive ad）
        * 數字廣告區別於傳統廣告的重要特點是可以產生直接轉化，
        * 返利購買是電商行業常見的一種推廣模式，它採用折扣或積分激勵用戶購買，也屬於激勵廣告的一種。
        * 激勵廣告雖然能顯著提高轉化效率，但是由於用戶對產品的真實需求並不強，因此後續效果會大打折扣，特別是在獲取新客方面的價值比較差。
    10. 團購
        * 團購本質上是一種按照效果付費的泛廣告產品，其本質也是一種激勵性廣告。團購推廣的主要廣告主是一些本地化的店鋪，主要目的是爲了獲得新客
        * 看起來是跟其他人一起捆賣產品，而不是一個產品找多人買
    11. 遊戲聯運
        * 遊戲聯運是根據用戶的最終遊戲內消費在推廣渠道和遊戲開發商之間分成的商業產品，這仍然是一種按效果付費的泛廣告
    12. 固定位導航
        * 主要包括網址導航站的位置入口（如圖1-13所示）、應用分發平臺的推薦位置等付費推廣位置。

* 定向廣告系統對計算技術提出了兩個需求
    * 受衆定向（audience targeting），即通過技術手段標定某個用戶的性別、年齡或其他標籤
    * 廣告投放（ad serving），即將廣告投送由直接嵌入頁面變爲實時響應前端請求，並動態決策和返回合適的廣告創意。

* 擔保式投送（Guaranteed Delivery，GD）的交易方式，逐漸成爲互聯網合約式廣告的主要模式。一般來說，這樣的合約仍然主要面向品牌廣告主，並且按照按千次展示付費（Cost per Mille，CPM）的計費方式。

- GD廣告系統中有一個重要的計算問題，即保證滿足各合約目標量的要求的同時，儘可能爲廣告主分配到效果更好的流量。這個問題有兩個難點：一是如何有效地將流量分配到各個合約互相交叉的人羣覆蓋上；二是要在在線的環境下實時地完成每一次展示決策。這

- 就是在線分配（online allocation）問題。如果將各合約的量看作約束條件，將廣告效果看作目標函數，則可以利用帶約束優化（constrained optimization）的數學框架來解決。

- 一次展示同時滿足多個合約的時候，僅按照在線分配策略決策，有可能浪費了部分本可以賣得更貴的流量

- 競價廣告（auction-based advertising）。在競價模式下，供給方只向廣告主保證質即單位流量的成本，但不再給出量的保證。對於每一次展示，則按照收益最高這樣的簡單原則來決策。

- 如果將用戶的搜索詞換成正在頁面中的關鍵詞，可以將此產品從搜索結果頁照搬到媒體頁面上，這就產生了上下文廣告（contextual advertising）。

- 廣義第二高價（Generalized Second Price，GSP）

- ，產生了廣告網絡（AD Network，ADN）這種新的產品形式。它批量地運營媒體的廣告位，按照人羣或上下文標籤售賣給需求方，並用競價的方式分配流量。廣告網絡的結算以按點擊付費（Cost per Click，CPC）的方式爲主，

- 這種產品的千次展示收益（Revenue per Mille，RPM）一般來說達不到合約廣告的水平，但它使大量媒體的剩餘流量（remnant inventory），即沒有能力通過合約售賣的流量，有了可行的變現手段：這些媒體可以直接把自己的庫存（inventory）託管給ADN，藉助ADN的銷售和代理團隊讓自己的流量變現。

- 。這種面向多個ADN或媒體按人羣一站式採買廣告，並進行量和質優化的需求方產品，稱爲交易終端（Trading Desk，TD）。

- 需求方按自己的人羣定義來挑選流量，這就是實時競價（Real Time Bidding，RTB），它將競價過程由廣告主預先出價，變成每次展示時實時出價。只要把廣告展示的上下文頁面URL，以及訪客的用戶標識等信息傳給需求方，它就能進行完成定製化的人羣選擇和出價。

- 通過實時競價，按照定製化人羣標籤採買廣告，這樣的產品就是需求方平臺（Demand Side Platform，DSP）。

## Ch 2 計算廣告基礎
- 在大多數廣告產品中，可以通過計算優化的主要是收入部分，而千次展示期望收入（expected Cost per Mille, eCPM）正是計算廣告中最爲核心的量化指標之一
    1. 曝光階段
        * 有效程度往往與廣告位的物理屬性有關，並沒有太多可以通過技術優化的空間。實際的廣告實踐中，因爲曝光的有效性對最終結果的影響往往遠遠高於其他技術性因素
    2. 關注階段
        * 儘量不要打斷用戶的任務
        * 明確傳達向用戶推送此廣告的原因
        * 內容符合用戶的興趣或需求，這是行爲定向的原理基礎
    3. 理解階段
        * 集中強調一個主要訴求以吸引用戶的注意力。
    4. 接受階段
        * 廣告領域有一句名言：“我知道有一半的廣告預算浪費了。”實際情況還有可能更糟，如果表達的信息不適當，甚至有可能有三分之一的廣告展示起到負面效果！
        * 如何讓合適的廣告出現在合適的媒體上，即廣告安全（ad safety）的
    5. 保持階段
    6. 決策階段

* 定性地說，越靠前的階段，其效果對點擊率的影響越大；而越靠後的階段，其效果對轉化率的影響越大。
* 廣告點擊與廣告展現的比率稱爲點擊率（Click Through Rate，CTR）
* 用戶從落地頁開始，進一步完成下單等操作，則稱爲轉化，轉化次數與到達次數的比例稱爲轉化率（Conversion Rate，CVR），這

* 市場上主要的幾種廣告計費模式
    1. CPT（Cost per Time）結算。這是將
        * 雖然有一些額外的品牌效果和櫥窗效應產生，但是非常不利於受衆定向和程序化交易的發展，
    2. CPM（Cost per Mille）結算。即按照千次（mille）展示結算，這裏的“mille”是拉丁文“千次”的
    3. CPC（Cost per Click）結算。即按點
        * 點擊率的估計是由供給方（或者中間市場）完成的。點擊價值的估計則由需求方完成，並通過出價的方式向市場通知自己的估價
    4. CPS（Cost per Sale）/CPA（Cost per Action）/ROI結算，即按照銷售訂單、轉化行爲或投入產出比來結算，

- oCPM（optimized CPM）結算。oCPM是Facebook主推的一種新結算方式，意思是廣告平臺仍然按照CPM結算費用，但會根據轉化率進行優化。也就是說，雖然結算方式仍然是CPM，但是供給方會承擔點擊率和點擊價值估計的任務。

- 綜合起來看，可以認爲，對於效果廣告，CPC計費方式最有利於發揮供給方和需求方的長處，因而在市場上被廣泛接受；而對於品牌廣告，由於效果和目的有時不便於直接衡量，可以考慮按照CPM的方式計費；而CPS/CPA/ROI的計費方式，只在一些特定的環境下才比較合理。oCPM則是數據能力較強的廣告平臺向CPA方式的一種巧妙過渡。

- 在優化既定商業目標這一商業產品的總體原則下，商業產品運營中有一些需要注意的關鍵點
    1. 相對於產品功能，要特別關注產品中的策略部分。

## Ch 3 在線廣告產品概覽
- 需求方提供的廣告是分層次管理的。在多數產品中，廣告的層次分爲廣告主、廣告（推廣）計劃（campaign）、廣告（推廣）組（ad group）、廣告創意（creative）等幾個層級
    1. 廣告計劃
        * 概念上對應於廣告主的一次投放合同，其中包括預算、時間範圍等基本信息
    2. 廣告組
        * 對應於一個具體的廣告投放策略，主要是設定受衆定向條件和出價
        * 廣告組最重要的功能是設置各種各樣的定向條件，因而是廣告效果優化的關鍵層級。另外，對媒體的選擇也可以認爲是一種定向條件。
    3. 廣告創意
        * 最終展示出來的素材，可能在同一個組策略下有不同尺寸的創意存在，

## Ch4 合約位廣告
- 考察某種定向方法時，有兩個關鍵點需要關注：一是定向的效果，即符合該定向方式的流量高出平均效果的水平；二是定向的規模，即這部分流量佔整體廣告庫存流量的比例
- 受衆定向方法概覽
    1. 地域定向（geo-targeting）
    2. 人口屬性定向（demographical targeting）
        * 主要標籤包括年齡、性別、受教育程度、收入水平等
        * 人口屬性有一點與興趣標籤不同，那就是它是可以監測的，即可以用採樣加調研的方法來判斷一次人口屬性定向的廣告活動受衆中有多大比例是正確的
    3. 上下文定向（contextual targeting）
        * 根據網頁或應用的具體內容來匹配相關的廣告，這就是上下文定向。上下文定向的粒度可以是關鍵詞、主題，也可以是根據廣告主需求確定的分類。
        * 粗略地描述用戶當前的任務，而任務的匹配對於提高廣告的關注程度至關重要
        * 覆蓋率比較高
        * 上下文定向也是ADN中首選的定向方法之一
    4. 行爲定向（behavioral targeting）
        * 根據用戶的歷史訪問行爲了解用戶興趣，從而投送相關廣告的。
    5. 精確位置定向（hyper-local targeting）
        * 在移動設備上投放廣告時，我們有可能獲得非常精準的地理位置。
        * 使得大量區域性非常強的小廣告主（如餐飲、美容等）有機會投放精準定位的廣告，這
    6. 重定向（retargeting）
        * 這是一種最簡單的定製化標籤，其原理是對某個廣告主過去一段時間內的訪客投放廣告以提升效果。
        * 精準程度最高、效果最突出的，不過其人羣覆蓋量往往較小。這是
    7. 新客推薦定向（look-alike targeting）
        * 由於重定向的量太小，而且無法滿足廣告主接觸潛在用戶的需求，因此不能僅僅依靠它來投送廣告。新客推薦定向的思路是根據廣告主提供的種子訪客信息，結合廣告平臺更豐富的數據，爲廣告主找到行爲上相似的潛在客戶。這一
        * 目的是希望在同等用戶覆蓋率的情況下，達到比一些通用的興趣標籤更好的效果，這
    8. 動態定價（dynamic pricing）
        * 這並不是一種定向廣告技術，但卻與其有一定的關聯
        * 團購也是一種變相的廣告形式，
    9. 場景定向（scenario targeting）

#### 4.2.2　受衆定向標籤體系

- 一般來說，標籤體系有兩種組織方式。一種是按照某個分類法（taxonomy）制定一個層次標籤體系，其中上層的標籤是下一層的父節點

- 另外一種興趣標籤的組織方式，是根據廣告主的具體需求設置相應的標籤，所有的標籤並不能在同一個分類體系中描述，也不存在明確的父子關係。

- 往往包含一些比較精準的標籤的集合，因而主要適用於多種目標，特別是效果目標並存的廣告主的精準流量選擇要求。

- （1）當標籤作爲廣告投放的直接標的時（包括CPM廣告及競價廣告中直接可被廣告主選擇的人羣），這些標籤既要能夠爲廣告主所理解，又要方便廣告主的選擇。因此，在這種情形下，結構化的層級標籤體系往往是較合理的產品方案

- （2）當標籤僅僅是投放系統需要的中間變量，作爲CTR預測或者其他模塊的變量輸入時，結構化的標籤體系其實是沒有必要的，應該完全按照效果驅動的方式來規劃和挖掘標籤，而



### 4.3　展示量合約

#### 4.3.1　流量預測
*  流量預測在廣告產品中有以下3個主要用途。

- （1）售前指導。在

- （2）在線流量分配。

- 一次曝光同時滿足兩個以上合約的要求時，怎樣決策將它分配給哪個合約以達到整體滿足所有合約的

- （3）出價指導。在競價廣告中，由於沒有了量的保證，廣告主往往需要根據自己預計的出價先了解一下可能獲得多少流量，以判斷自己的出價是否合理。與

- 隨着標籤數量的增加，供給節點的數量會以指數速度上升，而每一個供給節點的流量當然也就迅速收縮。當節點的流量過小時，對其進行相對準確的預測就變得相當困難，這時上面所說的方案就會變得完全不可行。因此，展示量合約這類廣告產品在人羣標籤非常豐富和精準時，是無法有效地運作的，而這正是競價廣告產品的原動力之一。

- 一個廣告產品聲稱自己的標籤體系多麼複雜，有多少標籤種類，這些在實際上沒有太大的意義，而這些標籤的人羣規模才更有說服力。