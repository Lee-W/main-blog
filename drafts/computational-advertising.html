<!DOCTYPE html>

<html lang="zh-tw">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" rel="stylesheet"/>
<link href="https://blog.wei-lee.me/theme/css/style.min.css?2fcac227" rel="stylesheet"/>
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<meta content="Wei Lee" name="author">
<meta content="article" property="og:type">
<meta content="summary" name="twitter:card"/>
<meta content="Advertising, Book, " name="keywords">
<meta content="[Book] 計算廣告：互聯網商業變現的市場與技術 " property="og:title">
<meta content="https://blog.wei-lee.me/drafts/computational-advertising.html" property="og:url"/>
<meta content="因為原文就是簡體的，所以整個筆記會有中國用語 我用 opencc-python 簡轉繁 Note 常見名詞 千次曝光付費（Cost per Mille，CPM) 千次曝光期望收入 …" property="og:description"/>
<meta content="Those aren't written down are meant to be forgotten" property="og:site_name"/>
<meta content="Wei Lee" property="og:article:author"/>
<meta content="2021-02-13T22:35:00+08:00" property="og:article:published_time"/>
<meta content="[Book] 計算廣告：互聯網商業變現的市場與技術 " name="twitter:title"/>
<meta content="因為原文就是簡體的，所以整個筆記會有中國用語 我用 opencc-python 簡轉繁 Note 常見名詞 千次曝光付費（Cost per Mille，CPM) 千次曝光期望收入 …" name="twitter:description"/>
<title>[Book] 計算廣告：互聯網商業變現的市場與技術  · Those aren't written down are meant to be forgotten
</title>
<link href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="alternate" title="Those aren't written down are meant to be forgotten - Full Atom Feed" type="application/atom+xml">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3J7XQ46QH5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3J7XQ46QH5');
</script>
</link></meta></meta></meta></meta><link href="https://blog.wei-lee.me/drafts/computational-advertising.html" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Those aren't written down are meant to be forgotten", "item": "https://blog.wei-lee.me"}, {"@type": "ListItem", "position": 2, "name": "Drafts", "item": "https://blog.wei-lee.me/drafts"}, {"@type": "ListItem", "position": 3, "name": "Computational advertising", "item": "https://blog.wei-lee.me/drafts/computational-advertising.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Wei Lee"}, "publisher": {"@type": "Organization", "name": "Those aren't written down are meant to be forgotten"}, "headline": "[Book] 計算廣告：互聯網商業變現的市場與技術", "about": "Book", "datePublished": "2021-02-13 22:35"}</script></head>
<body>
<div id="content">
<div class="navbar navbar-static-top">
<div class="navbar-inner">
<div class="container-fluid">
<a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</a>
<a class="brand" href="https://blog.wei-lee.me/"><span class="site-name">Those aren't written down are meant to be forgotten</span></a>
<div class="nav-collapse collapse">
<ul class="nav pull-right top-menu">
<li>
<a href="https://blog.wei-lee.me">Home</a>
</li>
<li><a href="https://blog.wei-lee.me/pages/about-me.html">About Me</a></li>
<li><a href="https://blog.wei-lee.me/categories.html">Categories</a></li>
<li><a href="https://blog.wei-lee.me/tags.html">Tags</a></li>
<li><a href="https://blog.wei-lee.me/archives.html">Archives</a></li>
<li><form action="https://blog.wei-lee.me/search.html" class="navbar-search" onsubmit="return validateForm(this.elements['q'].value);"> <input class="search-query" id="tipue_search_input" name="q" placeholder="Search" type="text"/></form></li>
</ul>
</div>
</div>
</div>
</div>
<div class="container-fluid">
<div class="row-fluid">
<div class="span1"></div>
<div class="span10">
<article itemscope="">
<div class="row-fluid">
<header class="page-header span10 offset2">
<h1>
<a href="https://blog.wei-lee.me/drafts/computational-advertising.html">
                [Book] 計算廣告：互聯網商業變現的市場與技術
            </a>
</h1>
</header>
</div>
<div class="row-fluid">
<div class="span2 table-of-content">
<nav>
<h4>Contents</h4>
<div class="toc">
<ul>
<li><a href="#note">Note</a><ul>
<li><a href="#_1">常見名詞</a></li>
<li><a href="#_2">前言</a></li>
<li><a href="#ch-1">Ch 1 線上廣告概述</a></li>
<li><a href="#ch-2">Ch 2 計算廣告基礎</a></li>
<li><a href="#ch-3">Ch 3 線上廣告產品概覽</a></li>
<li><a href="#ch-4">Ch 4 合約位廣告</a></li>
<li><a href="#ch-5">Ch 5 搜尋廣告與競價廣告</a></li>
<li><a href="#ch-6-">Ch 6 - 程式化交易廣告</a></li>
</ul>
</li>
<li><a href="#ch7">Ch7 資料加工與交易</a></li>
<li><a href="#ch-8-news-feed">Ch 8 News Feed 與原生廣告</a></li>
<li><a href="#ch-9">Ch 9</a></li>
</ul>
</div>
</nav>
</div>
<div class="span8 article-content">
<p>因為原文就是簡體的，所以整個筆記會有中國用語<br/>
我用 <a href="https://github.com/yichen0831/opencc-python">opencc-python</a> 簡轉繁</p>
<!--more-->
<h2 id="note">Note</h2>
<h3 id="_1">常見名詞</h3>
<ul>
<li>千次曝光付費（Cost per Mille，CPM)</li>
<li>千次曝光期望收入（expected Cost per Mille, eCPM）</li>
<li>點擊付費（Cost per Click，CPC）</li>
<li>千次曝光收益（Revenue per Mille，RPM）</li>
<li>點擊率（Click Through Rate，CTR）: 廣告點擊與廣告展現的比率</li>
<li>轉化率（Conversion Rate，CVR）:  轉化次數與到達次數的比例<ul>
<li>轉化： 使用者從 landing page 開始，進一步完成下單等操作</li>
</ul>
</li>
<li>客戶關係管理（CRM, Customer Relation Management）</li>
<li>資料管理平台（DMP, Data Management Platform）</li>
</ul>
<h3 id="_2">前言</h3>
<ul>
<li>If you can't measure it, you can't manage it.</li>
</ul>
<h3 id="ch-1">Ch 1 線上廣告概述</h3>
<h4>免費模式</h4>
<ul>
<li>免費模式： 將能規模化、客製化傳播資訊的商品，以邊際成本的價格出售<ul>
<li>狹義案例： 軟體產品不收費（多一個使用者的邊際成本很小）</li>
<li>廣義案例： 硬體以毛利爲零左右的價格出售（邊際成本 = 量產成本）</li>
</ul>
</li>
<li>變現核心資產<ol>
<li>流量<ul>
<li>e.g., 有人使用你的產品時，你在產品夾帶付費內容（sponsored content）</li>
</ul>
</li>
<li>資料</li>
<li>影響力<ul>
<li>e.g., 近年來迅速崛起的網紅和自媒體</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4>廣告的目的</h4>
<ul>
<li>為什麼需要廣告？<ul>
<li>通過媒體達到低成本的使用者接觸（"低成本"是與市場或銷售人員的成本相對而言的）</li>
</ul>
</li>
<li>廣告分類<ul>
<li>品牌廣告（brand awareness）<ul>
<li>快速接觸大量使用者，宣傳品牌形象，提升中長期購買率</li>
<li>傳統廣告的主要目的之一</li>
</ul>
</li>
<li>直接效果廣告（direct response）<ul>
<li>利用廣告馬上帶來大量的購買或其他轉化行爲</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>廣告形式</h4>
<ol>
<li>橫幅廣告（banner ad）</li>
<li>文字廣告（textual ad）<ul>
<li>提供連到廣告主 landing page 的連結</li>
<li>搜尋廣告的主流形式</li>
</ul>
</li>
<li>富媒體廣告（rich media ad）<ul>
<li>e.g., 彈跳視窗</li>
<li>適合在高品質的媒體做品牌廣告投放，對使用者的使用體驗影響較大</li>
</ul>
</li>
<li>影片廣告（video ad）</li>
<li>互動式廣告（playable ad）</li>
<li>社交廣告（social ad）<ul>
<li>在社交網絡中嵌入的廣告</li>
</ul>
</li>
<li>行動廣告（mobile ad）<ul>
<li>嚴格來說與桌面廣告沒有本質的區別</li>
</ul>
</li>
<li>郵件營銷廣告（Email Direct Marketing，EDM）<ul>
<li>非常容易變成垃圾郵件的主要來源</li>
<li>需要精準地把握使用者興趣，有節制地提供相關資訊</li>
</ul>
</li>
<li>激勵廣告（incentive ad）<ul>
<li>e.g., 平台提供折扣或積分</li>
<li>優點： 提高轉化效率</li>
<li>缺點<ul>
<li>使用者對產品的需求並不強，因此後續效果會快速降低</li>
<li>取得新客戶的忠誠度較差</li>
</ul>
</li>
</ul>
</li>
<li>團購</li>
<li>遊戲聯運<ul>
<li>根據使用者最終遊戲內消費在推廣管道和遊戲開發商之間分成的商業產品</li>
</ul>
</li>
<li>固定位導航<ul>
<li>e.g., 入口網站的付費廣告</li>
</ul>
</li>
</ol>
<h4>線上廣告的歷史</h4>
<ul>
<li>擔保式投送（Guaranteed Delivery，GD）<ul>
<li>主要客戶： 品牌廣告主</li>
<li>收費方式： CPM</li>
<li>核心概念： 保證滿足各合約目標量的同時，儘可能爲廣告主分配到效果更好的流量</li>
<li>挑戰<ol>
<li>如何將流量分配到各個合約重疊的受眾上</li>
<li>如何在線上即時決定要曝光的廣告</li>
</ol>
</li>
</ul>
</li>
<li>競價廣告（auction-based advertising）<ul>
<li>供給方只保證單位流量的成本</li>
</ul>
</li>
<li>廣告網絡（AD Network，ADN）<ul>
<li>按人群或上下文標籤賣廣告給需求方，用競價的方式分配流量</li>
<li>收費方式： CPC</li>
</ul>
</li>
<li>即時競價（Real Time Bidding，RTB）<ul>
<li>需求方按自己的人群定義來挑選流量</li>
</ul>
</li>
</ul>
<h3 id="ch-2">Ch 2 計算廣告基礎</h3>
<ul>
<li>廣告產品能最佳化的主要是<strong>收入</strong><ul>
<li><strong>eCPM</strong> 是計算廣告中最核心的量化指標之一</li>
</ul>
</li>
</ul>
<h4>廣告有效性原理及其最佳化的方式</h4>
<ol>
<li>曝光階段<ul>
<li>有效程度與廣告位的物理屬性有關，沒有太多最佳化的空間</li>
</ul>
</li>
<li>關注階段<ul>
<li>明確傳達向使用者推送此廣告的原因</li>
</ul>
</li>
<li>理解階段<ul>
<li>集中強調一個主要訴求以吸引使用者的注意力</li>
</ul>
</li>
<li>接受階段<ul>
<li>廣告安全（ad safety）： 如何讓合適的廣告出現在合適的媒體上</li>
</ul>
</li>
<li>保持階段</li>
<li>決策階段</li>
</ol>
<p>越前面的階段對 CTR 影響越大，越後面對 CVR 影響越大</p>
<h4>廣告計費模式</h4>
<ul>
<li>常見的模式<ol>
<li>CPT（Cost per Time）<ul>
<li>有額外的品牌效果和櫥窗效應，但不利於受衆定位和自動化交易</li>
</ul>
</li>
<li>CPM（Cost per Mille）</li>
<li>CPC（Cost per Click）</li>
<li>CPS（Cost per Sale）/ CPA（Cost per Action）/ ROI<ul>
<li>即按照銷售訂單、轉化行爲或投入產出比來結算</li>
</ul>
</li>
<li>oCPM（optimized CPM）<ul>
<li>Facebook主推的一種新結算方式</li>
<li>仍照 CPM 結算，但會根據轉化率進行最佳化→ 平台方會承擔點擊率和點擊價值估計的任務</li>
</ul>
</li>
</ol>
</li>
<li>使用時機<ul>
<li>效果廣告： CPC</li>
<li>品牌廣告： CPM</li>
<li>CPS / CPA / ROI 在特定的環境下才會使用</li>
<li>oCPM 則是資料能力較強的廣告平臺走向 CPA 的過渡</li>
</ul>
</li>
</ul>
<h3 id="ch-3">Ch 3 線上廣告產品概覽</h3>
<ul>
<li>常見廣告產品的分層<ol>
<li>廣告計劃 (campaign)<ul>
<li>廣告主的一次投放合約，包括預算、時間範圍等基本資訊</li>
</ul>
</li>
<li>廣告組 (ad group)<ul>
<li>具體的廣告投放策略</li>
<li>主要是設定<strong>受衆定向條件</strong>和出價 → 廣告效果最佳化的關鍵層級</li>
</ul>
</li>
<li>廣告創意 (creative)<ul>
<li>最終曝光出來的素材</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="ch-4">Ch 4 合約位廣告</h3>
<ul>
<li>決定使用定向方法的考量點<ol>
<li>效果： 流量是否高出平均效果的水準</li>
<li>規模： 流量佔整體廣告庫存流量的比例</li>
</ol>
</li>
</ul>
<h4>受衆定向方法概覽</h4>
<ol>
<li>地域定向（geo-targeting）</li>
<li>人口屬性定向（demographical targeting）<ul>
<li>e.g., 年齡、性別、教育程度、收入</li>
</ul>
</li>
<li>上下文定向（contextual targeting）<ul>
<li>e.g., 關鍵詞、主題、廣告主的分類</li>
<li>覆蓋率比較高</li>
</ul>
</li>
<li>行爲定向（behavioral targeting）<ul>
<li>e.g., 使用者的歷史瀏覽行爲</li>
</ul>
</li>
<li>精確位置定向（hyper-local targeting）<ul>
<li>在行動裝置上投放廣告時，可能獲得精準的地理位置</li>
<li>適合區域性非常強的小廣告主（e.g., 餐飲、美容）</li>
</ul>
</li>
<li>重定向（retargeting）<ul>
<li>對廣告主過去一段時間內的訪客投放廣告以提升效果</li>
<li>精準程度最高、效果最突出，但人群覆蓋量較小</li>
</ul>
</li>
<li>新客推薦定向（look-alike targeting）<ul>
<li>基於廣告主過往的訪客，基於平台的標籤找出行為類似的潛在客戶</li>
<li>目的是在同等使用者覆蓋率的情況下，達到比通用的興趣標籤更好的效果</li>
</ul>
</li>
<li>動態定價（dynamic pricing）<ul>
<li>e.g, 團購（隨著一起購買的人數改變價錢）</li>
</ul>
</li>
<li>場景定向（scenario targeting）</li>
</ol>
<h4>受衆定向標籤體系</h4>
<ul>
<li>標籤體系<ol>
<li>層級標籤體系（結構化）<ul>
<li>上層的標籤是下一層的父節點</li>
</ul>
</li>
<li>興趣標籤體系（非結構化）<ul>
<li>所有的標籤不在同個分類，沒有明確的父子節點關係</li>
</ul>
</li>
</ol>
</li>
<li>gotcha<ul>
<li>隨着標籤數量的增加，每個節點的流量會迅速收縮<ul>
<li>當節點流量過小時，對其進行預測就變得相當困難</li>
</ul>
</li>
<li>廣告產品聲稱自己的標籤體系複雜是沒有意義的，標籤背後的人群規模才有價值</li>
</ul>
</li>
</ul>
<h4>流量預測</h4>
<ul>
<li>流量預測的個主要用途<ol>
<li>售前指導</li>
<li>線上流量分配<ul>
<li>一次曝光同時滿足兩個以上合約的要求時，怎樣決策將它分配給哪個合約以達到整體滿足所有合約的</li>
</ul>
</li>
<li>出價指導<ul>
<li>在競價廣告中，由於沒有了量的保證，廣告主往往需要根據自己預計的出價先了解一下可能獲得多少流量，以判斷自己的出價是否合理</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="ch-5">Ch 5 搜尋廣告與競價廣告</h3>
<ul>
<li>廣告網路中的競價標的<ol>
<li>上下文頁面中的<strong>關鍵詞</strong>，從搜尋廣告衍生</li>
<li>根據使用者行為加工<strong>興趣標籤</strong>，從曝光廣告的定向邏輯衍生</li>
</ol>
</li>
</ul>
<h4>搜尋廣告</h4>
<ul>
<li>產品形態<ul>
<li>競價標的： 競價關鍵詞（bid term）<ul>
<li>使用者輸入的查詢（query）透過與關鍵詞匹配，來確定是否可以觸發該條廣告</li>
</ul>
</li>
<li>結算方式：  CPC</li>
<li>曝光區一般分為北、東、南3個部分，其中南區較為少用<ul>
<li><img alt="ad-loc" src="/images/posts-image/2021-computational-advertising/ad-loc.jpg"/></li>
</ul>
</li>
</ul>
</li>
<li>產品策略<ul>
<li>查詢擴充： 為廣告主自動拓展相關的查詢詞，擴大匹配流量<ul>
<li>精確匹配</li>
<li>短語匹配： 當查詢完全包含廣告主關鍵詞或關鍵詞（包括關鍵詞的同義詞）的集合時</li>
<li>廣泛匹配： 當查詢詞與關鍵詞高度相關時<ul>
<li>e.g., 英語培訓 → 外語學習班、四級證書</li>
</ul>
</li>
<li>否定匹配： 明確指出哪些詞是不能被匹配的</li>
</ul>
</li>
<li>檢索</li>
<li>排序<ul>
<li>將候選廣告根據eCPM排序</li>
</ul>
</li>
<li>放置<ul>
<li>考量因素<ol>
<li>廣告相關性 → 確保使用者體驗</li>
<li>廣告的RPM → 有效利用曝光位置</li>
</ol>
</li>
</ul>
</li>
<li>定價</li>
</ul>
</li>
<li>產品案例： Google AdWords</li>
</ul>
<h4>位置拍賣與機制設計</h4>
<ul>
<li>市場保留價（Market Reserve Price，MRP）<ul>
<li>a.k.a. 起價, 底價</li>
<li>贏得拍賣位置的最低價格，用以控制廣告的品質和保持一定的出售單價</li>
</ul>
</li>
<li>定價策略<ul>
<li>廣義第二高價（GSP）<ul>
<li>對每一個贏得位置的廣告主，都按照他下一位的廣告主出價來收取費用</li>
<li>競價廣告系統的主流定價策略<ul>
<li>不是最佳策略，但最容易實作、解釋</li>
</ul>
</li>
</ul>
</li>
<li>VCG 定價<ul>
<li>贏得了某個位置的廣告主，其所付出的成本應該等於他佔據這個位置給其他市場參與者帶來的價值損害</li>
<li>邏輯過於複雜，比較難以向廣告主解釋清楚，「給其他市場參與者帶來的價值損害」也很難驗證</li>
</ul>
</li>
</ul>
</li>
<li>Myerson 最佳拍賣<ul>
<li>對於期望收益很可能比較高的大玩家，會透過虛擬出價的變換對其進行一定程度的懲罰，以刺激其出更高的價格</li>
<li>實作上大多平台都會採用部分的概念（e.g., 對出價能力強的買家進行一定程度的價格歧視），但不會公開宣稱</li>
</ul>
</li>
</ul>
<h4>競價廣告網路</h4>
<ul>
<li>批次聚合各媒體的剩餘流量，按照人群或上下文標籤的流量切割方式售賣給廣告主<ul>
<li>對媒體而言，只需要在廣告位的剩餘流量上呼叫廣告網路的投放程式碼或SDK，而不用關心每次曝光的投放結果</li>
</ul>
</li>
<li>主流計價方式： CPC</li>
<li>關鍵的產品特點<ol>
<li>不向廣告主做量的約定，而是根據 eCPM 來決定每次曝光分配給哪個廣告主</li>
<li>極力淡化媒體和廣告位的概念，很難拿到品牌溢價高的廣告位，一般不適合品牌廣告</li>
<li>由於廣告網路根據實際消耗來結算，通常要求廣告主先儲值，因而改善平台方的財務</li>
</ol>
</li>
<li>產品案例： Google Display Network</li>
</ul>
<h4>競價廣告需求方產品 → SEM</h4>
<ul>
<li>透過競價採買搜尋引擎關鍵詞來做推廣</li>
<li>進行關鍵詞選擇的目的是提高廣告主採買流量的ROI<ul>
<li>compare to 搜尋引擎進行查詢擴充套件的目的是為了提高自己的營收</li>
</ul>
</li>
<li>服務對象通常是中型以上的廣告主</li>
<li>產品案例： Efficient Frontier<ul>
<li>透過關鍵詞選擇和出價，為搜尋廣告主提供大量關鍵詞情形下的ROI 最佳化</li>
<li>透過計算的方法確定一個投資組合中各個品種的投資比例，以達到期望收益最佳情況下風險最小的理論。在各個投資期望收益水平下，相應的最小組合風險對應的曲線就稱為efficient frontier。</li>
</ul>
</li>
</ul>
<h3 id="ch-6-">Ch 6 - 程式化交易廣告</h3>
<h4>即時競價</h4>
<ul>
<li>
<p>客製化使用者標籤（customized audience segmentation）: 在做人群選擇時，需要利用廣告主自有的資料 ← <strong>即時競價的關鍵產品目標</strong></p>
</li>
<li>
<p>流程</p>
<ol>
<li>使用者標識映射（cookie 映射）<ol>
<li>從<code>廣告主網站</code>向 <code>DSP 伺服器</code> 發起 cookie 映射請求</li>
<li><code>DSP</code> 與 <code>ADX 伺服器</code>之間通信完成 cookie 映射</li>
</ol>
</li>
<li>廣告請求（ad call）<ol>
<li>當<code>使用者</code>接觸到<code>媒體網站</code>的廣告位時，前端向 <code>ADX</code> 發起廣告請求</li>
<li><code>ADX</code> 向各 <code>DSP</code> 傳送 URL（或應用 ID ）和使用者標識，發起詢價請求</li>
<li><code>媒體網站</code> 從勝出的 <code>DSP</code> 拿到廣告創意並展示</li>
</ol>
</li>
</ol>
</li>
</ul>
<div class="mermaid">
flowchart LR
User --2.1--&gt;Media
Media --2.2--&gt; ADX
ADX &lt;--2.3--&gt; DSP
Ad -.1.1.-&gt; DSP
DSP &lt;-.1.2.-&gt; ADX

User[使用者]
Media[媒體網站]
Ad[廣告主]
DSP[DSP 1..n]
ADX[ADX]
</div>
<ul>
<li><a href="https://www.iab.com/">IAB</a> 制定了 <a href="https://openrtb.github.io/OpenRTB/">OpenRTB</a> 接口標準，已經被一些 ADX 採用</li>
</ul>
<h4>優選（Preferred Deal，PD）</h4>
<ul>
<li>步驟<ol>
<li><code>使用者</code>訪問<code>媒體頁面</code></li>
<li><code>媒體頁面</code>通過 JavaScript 程式碼或 SDK 向<code>供給方廣告投放機</code>發起廣告請求</li>
<li><code>供給方廣告投放機</code>向<code>需求方廣告投放機</code>發起詢問是否需要此次廣告曝光機會</li>
<li><code>需求方廣告投放機</code>判斷是否需要此次曝光<ol>
<li>需要，則返回相應的廣告創意</li>
<li>不需要曝光機會，則通知<code>媒體廣告投放機</code>，由<code>供給方廣告投放機</code>從自有廣告庫中選擇合適的創意返回</li>
</ol>
</li>
</ol>
</li>
</ul>
<div class="mermaid">
flowchart TD
User --1. 訪問--&gt; Media --2. 廣告請求--&gt; SAD
SAD --3. 曝光機會詢問--&gt; DAD --&gt; adop
adop --&gt;|4-1. Yes, 提供廣告| SAD
adop --&gt;|4-2. No, 由供給方選其他廣告回傳| SAD

User[使用者]
Media[媒體頁面]
SAD[供給方廣告投放機]
DAD[需求方廣告投放機]
adop{是否需要廣告機會}
</div>
<ul>
<li>計價方式: CPM<ul>
<li>沒有多方競價，又有選擇流量的便利，因此比一般比市場 CPM 單價更高</li>
<li>決策過程可能存在比較多的投放機往返</li>
</ul>
</li>
</ul>
<h4>私有市場</h4>
<ul>
<li>邀請制的交易方式<ul>
<li>廣告主的品質可以較好地控制（優選的好處）</li>
<li>被邀請的各需求方間仍需競價，有利於提升媒體的變現能力（競價的好處）</li>
</ul>
</li>
<li>以 DoubleClick ADX、Mopub 等爲代表的主流 ADX 都在大力加強私有市場的產品和服務</li>
</ul>
<h4>程式化直投 (PDB)</h4>
<ul>
<li>直接購買與即時競價的過度<ul>
<li>定價、保量或半保量</li>
<li>需求方可以對採買的庫存做廣告投放決策</li>
<li>有時可進行一定的流量選擇</li>
</ul>
</li>
<li>特點<ol>
<li>跨媒體頻率控制</li>
<li>多個子產品流量分配 → 提高流量使用價值<ul>
<li>需求方可以根據自有 CRM (Customer Relation Management)、DMP (Data Management Platform) 以及策略在子產品之分配流量 → 相當於一個內部的 ADN</li>
</ul>
</li>
<li>一定比例的還量<ul>
<li>部分媒體向 DSP 提供了一定比例的還量自由（例如可以返還20%的廣告請求）<ul>
<li>頻率過高或人群不匹配時，DSP 可以決定不投放廣告</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4>廣告交易平臺 (ADX)</h4>
<ul>
<li>計價方式： CPM</li>
<li>產品案例： DoubleClick ADX</li>
</ul>
<h4>需求方平臺 (DSP)</h4>
<ul>
<li>產品核心特徵<ol>
<li>程式化的流量購買方式（e.g., RTB, 優選）</li>
<li>供需求方進行客製化使用者劃分</li>
</ol>
</li>
<li>產品策略<ul>
<li>檢索、排序、定價、<strong>出價</strong><ul>
<li>出價直接決定 DSP 的流量基本單位成本和利潤</li>
<li>出價策略（主要看 eCPM 和市價隨時間變化的曲線）<ol>
<li>通過歷史資料，得到 eCPM 和市價的曲線</li>
<li>將一天的預算分配到 <span class="math">\(eCPM \over 市價\)</span> 較大的流量</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>重定向<ul>
<li>對曾經對廣告主服務感興趣的使用者找出來，再對他們投放</li>
<li>召回重定向與個性化重定向<ul>
<li>網站重定向（site retargeting）： 將一段時間內到達過廣告主服務的使用者作爲重定向集合</li>
<li>個人化重定向（personalized retargeting）： 對重定向流量進行個人化加工<ul>
<li>對處於不同購買階段（e.g., 瀏覽、搜索、加入購物）的使用者，採用合適的創意推動他儘快完成轉化行爲</li>
<li>對有過購買記錄的使用者推薦相關的商品以提升二次購買率<ul>
<li>動態創意</li>
<li>推薦引擎</li>
<li>廣告主商品庫存即時接口<ul>
<li>避免使用者點擊廣告後發現售完</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>搜索重定向： 將搜索過與廣告主直接相關的關鍵詞的使用者群作爲重定向集合</li>
</ul>
</li>
</ul>
</li>
<li>新客推薦（look-alike）<ul>
<li>由廣告主根據自己的第一方資料提供一部分種子使用者，再由第二方資料的廣告平臺分析這些使用者網絡行爲的特徵，並根據這些特徵找到具有相似特徵的拓展人群</li>
</ul>
</li>
</ul>
<h4>供給方平臺 （SSP）</h4>
<ul>
<li>產品策略<ol>
<li>聚合（mediation）： 集成多個 ADN 的 JavaScript 程式碼或 SDK，動態決定向誰請求廣告</li>
<li>廣告投放（ad serving）</li>
<li>市場（marketplace）： 程式化交易產生後，SSP也會以RTB方式向DSP請求廣告，形成了一個市場</li>
</ol>
</li>
</ul>
<div class="mermaid">

flowchart LR
TA[受眾標籤] --&gt; AD[SSP 內部廣告]
TA[受眾標籤] --&gt; ADNs

AD --&gt; DSPs
ADNs --&gt; DSPs

subgraph adserver [廣告投放]
AD
end

subgraph mediation [聚合]
ADNs[ADN 1..n]
end

subgraph market [市場]
DSPs[DSP 1..n]
end
</div>
<ul>
<li>決策過程<ol>
<li>估算出被聚合的 ADN 和內部廣告的 eCPM</li>
<li>用排序出最好的價格作為底價向 DSP 詢價</li>
<li>若排序最高的 ADN 拒絕請求，則向後面的排名發出請求 → 可能造成延遲 ← Header Bidding 就是要解決這個問題</li>
</ol>
</li>
<li>Header Bidding<ul>
<li>Bidder 繞過 ADX 直接向媒體報價，媒體根據出價高低決定中標者，如果沒有，再交由 ADX 進行即時競標<ul>
<li>Bidder： 所有可以進行報價的服務（e.g., DSP、 ADX、其他廣告參與者）</li>
</ul>
</li>
<li>主要區別<ul>
<li>繞過 ADX 接可回傳報價的 DSP 而非只能估計 eCPM 的 ADN<ul>
<li>收入最佳化變簡單</li>
<li>容易獲得更高的 eCPM</li>
</ul>
</li>
<li>缺點<ul>
<li>廣告延遲<ul>
<li>實際曝光減少</li>
<li>影響使用者體驗</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>過程<ol>
<li><code>使用者</code>訪問<code>媒體頁面</code></li>
<li><code>媒體</code>將 Header Bidding 的 script hb.js 放在 HTML 的 head 中發給<code>使用者瀏覽器</code></li>
<li>透過 hb.js，<code>使用者瀏覽器</code>向媒體網站約定好的 <code>Bidder</code> 發起曝光機會的競價請求，<code>Bidder</code>將報價回傳給<code>使用者瀏覽器</code></li>
<li>透過 hb.js，<code>使用者瀏覽器</code>將 <code>Bidder</code> 報價回傳給<code>媒體網站</code></li>
<li><code>媒體</code>同時向 <code>ADX</code> 或 <code>SSP</code> 發廣告請求</li>
<li><code>ADX</code> 或 <code>SSP</code> 發起 RTB 過程並獲得廣告候選</li>
<li><code>媒體</code>將 Header Bidding 出價結果和RTB出價結果排序，出價最高者贏得本次廣告展示機會，<code>使用者瀏覽器</code>請求勝方廣告</li>
</ol>
</li>
</ul>
</li>
</ul>
<div class="mermaid">
flowchart LR
user --1--&gt; media
media --2--&gt; user
user &lt;--3--&gt; js &lt;--3--&gt; bidder
user --4--&gt; js --4--&gt; media
media &lt;--5--&gt; ADX
ADX &lt;--6--&gt; DSPs
media --7--&gt; js --7 --&gt; user

bidder[bidder 1..n]
js[JavaScript code]
user
media[媒體伺服器]
ADX
DSPs[DSP 1..n]
</div>
<!--progress line-->
<h2 id="ch7">Ch7 資料加工與交易</h2>
<p>在本章中，我們首先介紹哪些數據資產具有明確的市場價值，價值高低如何，這些是我們收集、交換和加工數據之前非常重要的判斷基礎。在</p>
<p>擁有了數據資產以後，將其整理加工成可直接利用的信息並支持變現過程的產品，可以統稱爲數據管理平臺，即DMP，當然，DMP也有第一方與第三方的區別，這類產品的基本邏輯和商業模式也會在本章中介紹。</p>
<p>7.1　有價值的數據來源</p>
<p>（1）用戶標識。對</p>
<p>對於瀏覽器行爲，我們最常使用的用戶標識是cookie，</p>
<p>這種用戶標識的長期一致性並不算太好。好在對廣告來說，起關鍵作用的還是用戶近期內的行爲，</p>
<p>如果運營廣告業務的域名同時提供其他有永久身份的服務，比如電子郵件、SNS等，那麼可以用這一永久身份找回過期或被清除的cookie，這樣用戶身份的一致性就會有所改善。</p>
<p>iOS與Android在應用內廣告使用的用戶ID有所不同：前者是蘋果公司設計的廣告專用用戶標識符（IDentiﬁer For Advertising，IDFA），其性質與cookie類似，而後者沒有專門的廣告用戶ID，一般採用Android ID或國際移動設備標識（International Mobile Equipment Identity，IMEI）等標識信息。</p>
<p>（2）用戶行爲。</p>
<p>主要有轉化（conversion）、預轉化（pre-conversion）、搜索廣告點擊（sponsored search click）、展示廣告點擊（ad click）、搜索點擊（search click）、搜索（search）、分享（share）、頁面瀏覽（page view）、廣告瀏覽（ad view）等在線行爲是可以被廣泛採集並且對受衆定向或廣告決策有明確作用的。</p>
<p>這些行爲又可以分爲決策行爲、主動行爲、半主動行爲和被動行爲。</p>
<p>決策行爲主要包括轉化和預轉化。這些都是在廣告主的網站內發生的行爲，往往對應着非常明確的用戶興趣</p>
<p>主動行爲主要包括廣告點擊、搜索和搜索點擊。這一組行爲都是用戶在網絡上在明確意圖支配下主動產生的行爲，因而也有比較豐富的信息量。</p>
<p>半主動行爲主要包括分享和網頁瀏覽。主動行爲和半主動行爲都是用戶在目的比較弱的內容消費過程中產生的，因此，其所涉及的興趣領域對把握用戶信息有價值，但是細節的內容精準程度有限。半主動行爲的指導意義雖然有限，但是其數據量卻是各種行爲中最大的。</p>
<p>被動行爲主要是指廣告瀏覽。廣告瀏覽嚴格來說不能算作定向的行爲依據，</p>
<p>（3）人口屬性。</p>
<p>（4）地理位置。</p>
<p>廣告的根本目的是“低成本地接觸潛在用戶”。如果僅僅從轉化效果上判斷行爲數據的作用，會發現靠近轉化的行爲更精準，實際上是因爲這部分人羣已經更加接近於決策的最終階段，也就是說越發不是“潛在用戶”。因此，在行爲定向這個問題上，不能單純追求ROI或者轉化效果，</p>
<p>7.2　數據管理平臺</p>
<p>一般我們說的第一方和第二方分別是指廣告主和廣告平臺，而不直接參與廣告交易的其他數據提供方統稱爲第三方。在</p>
<p>7.2.3　第三方數據管理平臺</p>
<p>第三方DMP，也稱數據交易平臺（data exchange）。</p>
<p>主要產品功能是聚合各種來源的在線的用戶行爲數據，將這些數據加工成有價值的用戶標籤，然後在廣告市場上通過售賣這些標籤來變現。</p>
<p>數據交易一般是通過ADX或SSP作爲中轉來完成的，如圖</p>
<p>（1）因爲數據的量級可能較大，所以數據傳輸的成本是無法忽略的。如果在DMP和DSP之間進行數據交易，總體的數據傳輸成本就非常高。而在廣告請求上附加用戶標籤本身不會帶來額外的服務開銷，因此整體數據交易的傳輸成本就只有DMP和ADX之間的一次傳輸。</p>
<p>（2）所有的DSP、數據提供方都只需要與ADX進行cookie 映射，這種以ADX爲中心的星形拓撲結構，比起DSP直接與數據提供方進行cookie 映射的拓撲結構，顯然是要方便得多的。</p>
<p>（3）這種方式還有一個很大的好處，那就是實現了數據的部分交易：DSP顯然很少有機會利用到某個DMP的所有數據，通過在廣告交易過程中傳數據的辦法，DSP可以自由限制需要的數據範圍。</p>
<p>（4）ADX在數據的買方和賣方之間恰好起到了數據使用量監測和計費的作用。</p>
<p>7.4　隱私保護和數據安全</p>
<p>1．隱私保護基本原則</p>
<p>（1）要嚴格避免使用個人可辨識信息（Personal Identiﬁable Information，PII）。PII是最重要的隱私信息，它指的是那些被獲取後可以方便地定位到具體人的信息，如身份證號、電話號碼、電子郵件地址、家庭住址等。這些信息一旦被惡意獲取，會給當事人帶來非常大的不便和潛在風險，因此需要無條件地被嚴格保護。需要說明的是，廣告系統中經常使用的用戶標識，如cookie、IMEI等，由於不具有方便地辨識人的作用，因此不屬於PII。</p>
<p>（2）用戶有權要求系統停止跟蹤和使用自己的行爲數據。</p>
<p>（3）不應長期保留和使用用戶行爲數據。</p>
<p>（4）工程上還需要特別注意權限的嚴格分配和最小數據訪問的原則。</p>
<p>2．準標識符與K匿名</p>
<p>思路是將準標識符做一定程度的泛化。例如，將“年齡：36歲”泛化成“年齡：30～40歲”，將“工作地點：上海市攜程大廈”泛化成“工作地點：上海市”。如果泛化的結果使數據集裏的每一組準標識符的實例都能找到K條與其相同的，那麼就說實現了K匿名。</p>
<p>3．稀疏行爲數據的挑戰</p>
<p>稀疏行爲數據給隱私保護帶來的巨大風險還沒有成熟的解決方案，這</p>
<p>目前，差分隱私的技術在學術界和工業界引起了越來越多的關注。所謂差分隱私，指的是對數據集進行一定程度的修改，在儘可能少損失查詢準確率的情況下，使隱私泄露的風險最低。</p>
<p>7.4.2　程序化交易中的數據安全</p>
<p>1．供給方的數據安全</p>
<p>假設有某個惡意的DSP，對於能夠參與競價的所有廣告請求，都以很低的價格參與競價，目的不在於贏得流量，而在於收集媒體上的用戶行爲，這就產生了媒體數據的安全問題，</p>
<p>由於帶寬的限制，實際上在每次詢價時，ADX應該儘可能只向那些最可能贏得競價的DSP發送詢價請求，而那些以惡意收集數據爲目的的DSP，在理想情況下應該被擋在大部分詢價之外。</p>
<p>2．需求方的數據安全</p>
<p>當前的廣告交易市場對這個問題的重視程度和解決方案都還很不充分。因此，要提醒廣告主，在廣告交易中使用自己的第一方數據時，特別是面對強勢的廣告平臺時，要特別留意數據安全的問題。</p>
<p>7.4.3　歐盟的通用數據保護條例</p>
<ul>
<li>GDPR認爲對消費者來說，應該明確擁有對個人數據的以下4項權利：<ul>
<li>數據訪問權，即</li>
<li>被遺忘權，即</li>
<li>限制處理權，即</li>
<li>數據攜帶權，即</li>
</ul>
</li>
</ul>
<h2 id="ch-8-news-feed">Ch 8 News Feed 與原生廣告</h2>
<p>8.1　移動廣告的現狀與挑戰</p>
<p>8.1.1　移動廣告的特點</p>
<p>（1）場景廣告的可能性。從用戶行爲分析角度來看，移動設備與PC最大的不同是可以對用戶行爲模式進行全天候的監測和分析。移動設備的特點是一直跟用戶在一起，並且從地理位置、生活狀態、需求意圖等各方面都可能對用戶有深入的理解。</p>
<p>（2）大量潛在的本地化廣告主。廣告發展到今天，可以說沒有任何主流的渠道可以幫助本地化小商家做推廣。</p>
<p>8.1.2　移動廣告的傳統創意形式</p>
<p>1．橫幅與插屏</p>
<p>插屏廣告（interstitial ad）與</p>
<p>2．開屏與鎖屏</p>
<p>3．推薦牆與積分牆</p>
<p>8.1.3　移動廣告的挑戰</p>
<p>（1）應用生態造成的行爲數據割裂。在</p>
<p>挑戰：各應用之間相對獨立，沒有Web環境下超鏈接那樣的組織體系，因此數據的來源也相對割裂，整合起來比較困難。</p>
<p>（2）許多PC時代廣告主移動化程度還不夠，無法充分消化廣告帶來的流量。</p>
<p>8.2　信息流廣告</p>
<p>信息流廣告起源於社交網絡。2010年4月，Twitter發佈了其“Promoted Tweets”產品，在其信息流中插入商業化的內容，如圖8</p>
<p>信息流廣告指的是這樣一種廣告形式：首先，廣告以與內容聯動的方式進行交互；其次，被廣告區隔開的各部分內容之間沒有直接的關聯。</p>
<p>8.2.2　信息流廣告產品關鍵</p>
<p>信息流廣告是展示廣告的一種特例，因此主體的產品決策流程與展示廣告基本一致。就信息流廣告特有的產品問題來看，有兩點需要專門討論：一是如何將同樣的廣告素材適配到不同的信息流位置上去；二是如何處理廣告在信息流中出現的位置與密度。</p>
<p>1．廣告位適配問題</p>
<p>2．廣告競價與放置</p>
<p>7所示，在哪裏插入信息流廣告主要取決於兩個參數：一是S，即首條廣告出現在第幾條內容之後；二是K，即兩條廣告之間間隔幾條內容。這兩個參數的值越大，廣告獲得的用戶關注就越少，對用戶體驗的影響也越小。</p>
<p>一致：在平均廣告條數的約束下，通過調整每個用戶的S與K，優化總體廣告的點擊率。其中平均廣告條數的約束，相當於對用戶體驗的約束，</p>
<p>8.3　其他原生廣告相關產品</p>
<p>8.3.1　搜索廣告</p>
<p>搜索廣告與內容的混合方式有兩種，一種是將廣告在固定的位置上展現，另一種是將廣告與內容混合排列在一起。當然，在實際的搜索引擎中，廣告與內容也是來源於不同的服務，前者按照eCPM排序，後者按照相關性排序，兩者混合的規則也是一些固定的邏輯，並沒有實現按同一準則的統一排序。</p>
<p>8.3.2　軟文廣告</p>
<p>較高質量的軟文往往讓讀者可以像接受普通文章一樣接受其內容，因而宣傳效果也會比較好。不過這種軟文廣告的生產和傳播過程很難被標準化，不是產品化交易的對象，因此並不是我們重點討論的廣告產品。</p>
<p>8.4　原生廣告平臺</p>
<p>8.4.1　表現原生與場景原生</p>
<p>一種訴求是將廣告的展示風格和樣式變得與內容相一致，從而做到產品形式上的“原生”；另一種訴求是將廣告的投放決策邏輯與內容生產相一致，從而做到用戶場景上的“原生”。</p>
<p>場景上的原生性則需要媒體明確提供場景和需求。如果我們進一步比較搜索廣告和社交網絡信息流廣告，會發現前者的效果仍然要好於後者。究其</p>
<p>8.4.2　場景的感知與應用</p>
<p>8.4.3　植入式原生廣告</p>
<p>一是要判斷用戶當前的場景及意圖，二是要確定根據用戶的意圖提供什麼樣的信息。</p>
<p>FAN的eCPM一般來說要高於其他ADN。另外，FAN還有對媒體廣告位的分級評定製度，級別不同的廣告位會以不同質量的廣告填充，eCPM水平也會相差巨大（甚至有一個數量級的差距）。 與其他大多數變現產品不同，FAN迄今爲止沒有引入任何程序化交易的成分：既沒有向DSP開放RTB接口，也沒有從其他ADX那裏購買流量。</p>
<h2 id="ch-9">Ch 9</h2>
<p>一般的个性化系统由4个主体部分构成。 （1）用于实时响应请求，完成决策的在线投放引擎（online serving engine）。 （2）离线的分布式计算（distributed computing）数据处理平台。 （3）是用于在线实时反馈的流计算（stream computing）平台。 （4）连接和转运以上三部分数据流的数据高速公路（data highway）。</p>
<p>流程是：在线投放系统的日志接入数据高速公路，再由数据高速公路快速转运到离线数据处理平台和在线流计算平台；离线数据处理平台周期性地以批处理方式加工过去一段时间的数据，得到人群标签和其他模型参数，存放在缓存中，供在线投放系统决策时使用；与此相对应，在线流计算平台则负责处理最近一小段时间的数据，得到准实时的用户标签和其他模型参数，也存放在缓存中，供在线投放系统决策时使用，这些是对离线处理结果的及时补充和调整。</p>
<p>（1）广告投放机（ad server）。这是接受广告前端Web服务器发来的请求，完成广告投放决策并返回最后页面片段的主逻辑。</p>
<p>来说，最重要的指标是每秒数（Query per Second，QPS）以及广告决策的延迟（latency）。</p>
<p>（2）广告检索（ad retrieval）。这部分的主要功能是，在线时根据用户标签（user attribute）与页面标签（page attribute）从广告索引（ad index）中查找符合条件的广告候选</p>
<p>（3）广告排序（ad ranking）。这部分是在线高效地计算广告的eCPM，并进行排序的模块。</p>
<p>（4）收益管理（yield management）。</p>
<p>（5）广告请求接口。在实际系统中，根据前端接口形式的不同，广告请求可能来自于基于HTTP的Web服务器，也可能来自于移动App内的SDK或者其他类型的API接口。</p>
<p>（6）定制化用户划分（customized audience segmentation）。</p>
<p>9.3.2　数据高速公路</p>
<p>功能是，将在线投放的数据准实时传输到离线分布式计算平台与流式计算平台上，供后续处理和建模使用，它</p>
<p>9.3.3　离线数据处理</p>
<p>输出目标：一是统计日志得到报表、仪表板等，供人进行决策时作为参考；二是利用数据挖掘、机器学习技术进行受众定向、点击率预估、分配策略规划等，为在线的机器决策提供支持。</p>
<p>主要模块有下面几个。</p>
<p>（1）用户会话日志生成。从各个渠道收集来的日志，需要先整理成以用户ID为键的统一存储格式，我们把这样的日志称为用户会话日志（session log）。</p>
<p>（2）行为定向。这</p>
<p>（3）上下文定向。这</p>
<p>（4）点击率建模。它的功能是在分布式计算平台上训练得到点击率的模型参数和相应特征，加载到缓存中供线上投放系统决策时使用。</p>
<p>（5）分配规划。这部分为在线的收益管理模块提供服务，它根据广告系统全局优化的具体需求，利用离线日志数据进行规划，得到适合线上执行的分配方案（allocation plan）。</p>
<p>（6）商业智能系统。这部分包括ETL （extract-transform-load）过程、仪表板和Cube。这些是所有以人为最终接口的数据处理和分析流程的总括。因为它担负着对外信息交流的任务。由于实际的广告运营不可能完全通过机器的决策来进行，其间必然需要有经验的运营者根据数据反馈对一些系统设置做及时调整。</p>
<p>（7）广告管理系统。这部分是广告操作者，即客户执行（Account Execute，AE）与广告系统的接口。AE通过广告管理系统定制和调整广告投放，并且与数据仓库交互，获得投放统计数据以支持决策。一般来说，广告系统中只有这部分是面向用户的产品。</p>
<p>9.3.4　在线数据处理</p>
<p>（1）在线反作弊。实时<br/>
    什麼是作弊流量</p>
<p>（2）计费。这</p>
<p>（3）在线行为反馈，</p>
<p>（4）实时索引。这</p>
<p>9.4　计算广告系统主要技术</p>
<p>（1）式（2.2）的特征提取，即对a, u, c打标签以方便后续建模和市场售卖的问题，是计算广告中非常核心的受众定向问题</p>
<p>（2）如果不考虑全局最优，则计算广告系统主要靠eCPM估计，特别是点击率预测（参见14.1节）来完成每一次展示时的局部优化。</p>
<p>（3）如果考虑到量的约束和投放时即时决策的要求，则产生了在线分配的问题（</p>
<p>（4）为了在多方博弈的市场中达到动态平衡时的收益最大化，则需要对市场的机制设计（mechanism design）</p>
<p>（5）为了更全面地采样整个(a, u, c)的空间以便更准确地估计点击率，需要用到强化学习（reinforcement learning）中的探索与利用（Explore and Exploit，E&amp;E）（参见14.3节）</p>
<p>（6）在实时竞价快速发展的今天，个性化推荐（personalized recommendation）技术也被广泛使用在效果类DSP的个性化重定向当中（参见15.2节）。</p>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
<hr/>
</div>
<section class="span2" id="article-sidebar">
<h4>Published</h4>
<time datetime="2021-02-13T22:35:00+08:00" itemprop="dateCreated">2021/02/13 - Sat</time>
<h4>Read Time</h4>
                4 min
            <h4>Category</h4>
<a class="category-link" href="https://blog.wei-lee.me/categories.html#book-ref">Book</a>
<h4>Tags</h4>
<ul class="list-of-tags tags-in-article">
<li><a href="https://blog.wei-lee.me/tags.html#advertising-ref">Advertising
</a></li>
</ul>
<h4>Keep In Touch</h4>
<div id="sidebar-social-link">
<a href="https://tw.linkedin.com/in/clleew" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="LinkedIn" fill="#fff" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#0077b5" height="512" rx="15%" width="512"></rect><circle cx="142" cy="138" r="37"></circle><path d="M244 194v198M142 194v198" stroke="#fff" stroke-width="66"></path><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"></path></svg>
</a>
<a href="https://github.com/Lee-W" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="GitHub" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#1B1817" height="512" rx="15%" width="512"></rect><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z" fill="#fff"></path></svg>
</a>
<a href="https://gitlab.com/Lee-W" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="GitLab" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#30353e" height="512" rx="15%" width="512"></rect><path d="M84 215l43-133c2-7 12-7 14 0l115 353L371 82c2-7 12-7 14 0l43 133" fill="#e24329"></path><path d="M256 435L84 215h100.4zm71.7-220H428L256 435l71.6-220z" fill="#fc6d26"></path><path d="M84 215l-22 67c-2 6 0 13 6 16l188 137zm344 0l22 67c2 6 0 13-6 16L256 435z" fill="#fca326"></path></svg>
</a>
<a href="https://twitter.com/clleew" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="Twitter" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#1da1f3" height="512" rx="15%" width="512"></rect><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37" fill="#fff"></path></svg>
</a>
<a href="https://wei-lee.me/feeds/all.atom.xml" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="RSS" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#f80" height="512" rx="15%" width="512"></rect><circle cx="145" cy="367" fill="#fff" r="35"></circle><path d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276" fill="none" stroke="#fff" stroke-width="60"></path></svg>
</a>
</div>
</section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div aria-hidden="true" class="pswp" role="dialog" tabindex="-1">
<!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
<div class="pswp__bg"></div>
<!-- Slides wrapper with overflow:hidden. -->
<div class="pswp__scroll-wrap">
<!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
<div class="pswp__container">
<div class="pswp__item"></div>
<div class="pswp__item"></div>
<div class="pswp__item"></div>
</div>
<!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
<div class="pswp__ui pswp__ui--hidden">
<div class="pswp__top-bar">
<!--  Controls are self-explanatory. Order can be changed. -->
<div class="pswp__counter"></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title="Share"></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
<!-- element will get class pswp__preloader--active when preloader is running -->
<div class="pswp__preloader">
<div class="pswp__preloader__icn">
<div class="pswp__preloader__cut">
<div class="pswp__preloader__donut"></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class="pswp__share-tooltip"></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class="pswp__caption">
<div class="pswp__caption__center"></div>
</div>
</div>
</div>
</div> </div>
<div class="span1"></div>
</div>
</div>
</div>
<footer>
<div>
<a href="http://creativecommons.org/licenses/by/4.0/" rel="license">
<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" style="border-width:0"/>
</a>
<br/>
This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0 International License</a>.

    </div>
<div id="fpowered">
        Powered by: <a href="http://getpelican.com/" rel="nofollow noopener noreferrer" target="_blank" title="Pelican Home Page">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" rel="nofollow noopener noreferrer" target="_blank" title="Theme Elegant Home Page">Elegant</a>
</div>
</footer> <script src="//code.jquery.com/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="https://blog.wei-lee.me/theme/js/elegant.prod.9e9d5ce754.js"></script>
<script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
<script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>
</body>
<!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>