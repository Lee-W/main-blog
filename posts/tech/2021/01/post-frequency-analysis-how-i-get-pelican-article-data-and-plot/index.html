
<!DOCTYPE html>

<html lang="zh-tw">
<head>
<meta charset="utf-8"/>
<meta charset="utf-8" content="text/html" http-equiv="Content-Type">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<title>2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖 </title>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="origin" name="referrer"/>
<meta content="Pelican" name="generator"/>
<link href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" rel="canonical"/>
<!-- Feed -->
<link href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="alternate" title="Those aren't written down are meant to be forgotten Full Atom Feed" type="application/atom+xml"/>
<!-- TODO: combine -->
<link href="https://blog.wei-lee.me/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pygments.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pagefind-ui-custom.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code-copy.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="/pagefind/pagefind-ui.css" rel="stylesheet"/>
<!-- Custom fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,300" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<script>
    var siteUrl = 'https://blog.wei-lee.me';
  </script>
<script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>
<meta content="原本只打算發篇文簡單回顧 2020 年我寫了什麼文章 沒想到就慢慢演變成開發 pelican-stat ......" name="description"/>
<meta content="Wei Lee" name="author"/>
<meta content="Python" name="tags"/>
<meta content="pelican" name="tags"/>
<!-- Open Graph -->
<meta content="Those aren't written down are meant to be forgotten" prefix="og: http://ogp.me/ns#" property="og:site_name">
<meta content="2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖 " prefix="og: http://ogp.me/ns#" property="og:title">
<meta content="原本只打算發篇文簡單回顧 2020 年我寫了什麼文章 沒想到就慢慢演變成開發 pelican-stat ......" prefix="og: http://ogp.me/ns#" property="og:description">
<meta content="zh-tw" prefix="og: http://ogp.me/ns#" property="og:locale">
<meta content="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" prefix="og: http://ogp.me/ns#" property="og:url"/>
<meta content="article" prefix="og: http://ogp.me/ns#" property="og:type"/>
<meta content="2021-01-29 18:45:00+08:00" prefix="og: http://ogp.me/ns#" property="article:published_time"/>
<meta content="" prefix="og: http://ogp.me/ns#" property="article:modified_time"/>
<meta content="https://blog.wei-lee.me/author/wei-lee.html" prefix="og: http://ogp.me/ns#" property="article:author"/>
<meta content="Tech" prefix="og: http://ogp.me/ns#" property="article:section">
<meta content="Python" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="pelican" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" prefix="og: http://ogp.me/ns#" property="og:image"/>
<!-- Twitter Card -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@clleew" name="twitter:site"/>
<meta content="2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖 " name="twitter:title"/>
<meta content="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" name="twitter:url"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" name="twitter:image:src"/>
<meta content="原本只打算發篇文簡單回顧 2020 年我寫了什麼文章 沒想到就慢慢演變成開發 pelican-stat ......" name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖",
  "headline": "2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖",
  "datePublished": "2021-01-29 18:45:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Wei Lee",
    "url": "https://blog.wei-lee.me/author/wei-lee.html"
  },
  "image": "https://blog.wei-lee.me//images/cover.jpeg",
  "url": "https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot",
  "description": "原本只打算發篇文簡單回顧 2020 年我寫了什麼文章 沒想到就慢慢演變成開發 pelican-stat ......"
}
</script>
</meta></meta></meta></meta></meta></link></meta><link href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Those aren't written down are meant to be forgotten", "item": "https://blog.wei-lee.me"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://blog.wei-lee.me/posts"}, {"@type": "ListItem", "position": 3, "name": "Tech", "item": "https://blog.wei-lee.me/posts/tech"}, {"@type": "ListItem", "position": 4, "name": "2021", "item": "https://blog.wei-lee.me/posts/tech/2021"}, {"@type": "ListItem", "position": 5, "name": "01", "item": "https://blog.wei-lee.me/posts/tech/2021/01"}, {"@type": "ListItem", "position": 6, "name": "Post frequency analysis how i get pelican article data and plot", "item": "https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Wei Lee"}, "publisher": {"@type": "Organization", "name": "Those aren't written down are meant to be forgotten"}, "headline": "2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖", "about": "Tech", "datePublished": "2021-01-29 18:45"}</script></head>
<body class="category-template">
<div class="nav-header">
<nav aria-label="Main" class="nav-wrapper">
<ul>
<li class="nav-Home" role="presentation"><a href="/"><span>Home</span></a></li>
<li class="nav-About Me" role="presentation"><a href="/pages/about-me.html"><span>About Me</span></a></li>
<li class="nav-🗄️ Archives" role="presentation"><a href="/archives.html"><span>🗄️ Archives</span></a></li>
<li class="nav-🔍 Search" role="presentation"><a href="/pages/search.html"><span>🔍 Search</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/book.html"><span>Book</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/gossiping.html"><span>Gossiping</span></a></li>
<li class="nav-tech active" role="presentation"><a href="https://blog.wei-lee.me/category/tech.html"><span>Tech</span></a></li>
</ul>
<ul class="nav-meta">
<li class="nav-linkedin"><a aria-label="Linkedin" href="https://tw.linkedin.com/in/clleew" target="_blank"><i aria-hidden="true" class="icon icon-linkedin"></i>
<span>Linkedin</span>
</a></li>
<li class="nav-github"><a aria-label="Github" href="https://github.com/Lee-W" target="_blank"><i aria-hidden="true" class="icon icon-github"></i>
<span>GitHub</span>
</a></li>
<li class="nav-twitter"><a aria-label="Twitter" href="https://twitter.com/clleew" target="_blank"><i aria-hidden="true" class="icon icon-twitter"></i>
<span>Twitter</span>
</a></li>
<li class="nav-search" style="display: none;">
<a title="Search">
<i aria-hidden="true" class="icon icon-search"></i>
<span>Search</span>
</a>
</li>
</ul> </nav>
<div class="nav-wrapper-control">
<div class="inner">
<a class="nav-menu" role="button"><i aria-hidden="true" class="icon icon-menu"></i>Menu</a>
<a class="nav-search" role="button" style="display: none;" title="Search"><i aria-hidden="true" class="icon icon-search"></i></a>
</div>
</div>
</div>
<div aria-label="Close" class="nav-close" role="button"></div>
<section class="page-wrapper" id="wrapper">
<!-- Progressbar -->
<div class="progress-container">
<span class="progress-bar"></span>
</div>
<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="post-header has-cover">
<div class="inner">
<span class="post-info">
<span class="post-type">Article</span>
<span class="post-count">Tech</span>
</span>
<h1 class="post-title">
            2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖
        </h1>
<div class="post-meta">
<div class="post-meta-avatars">
<figure class="post-meta-avatar avatar">
<a class="author-avatar" href="https://blog.wei-lee.me/author/wei-lee.html">
<img alt="Wei Lee" class="author-profile-image" src="https://blog.wei-lee.me//images/avatar.jpeg"/>
</a>
</figure>
</div>
<h4 class="post-meta-author">
            Wei Lee
          </h4>
<time datetime="2021/01/29 - Fri">2021/01/29 - Fri</time>
          • 2 min read
        </div>
<div class="post-cover cover">
<img alt="Category Tech" src="https://blog.wei-lee.me//images/cover.jpeg"/>
</div>
</div>
</header>
<!-- Post content -->
<main class="content" data-pagefind-body="" role="main">
<article class="post">
<div class="inner">
<section class="post-content">
<p>原本只打算發篇文簡單回顧 2020 年我寫了什麼文章<br/>
沒想到就慢慢演變成開發 <a href="https://github.com/Lee-W/pelican-stat">pelican-stat</a> ......</p>
<!--more-->
<p>原本只打算寫一篇的回顧文，就莫名其妙變成了三篇文章的系列文</p>
<ol>
<li><a href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot">如何得到 pelican 文章資訊並用來做圖</a>： 就是本文，主要會聊開發 <a href="https://github.com/Lee-W/pelican-stat">pelican-stat</a> 的過程</li>
<li><a href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-to-embed-html-in-pelican">如何在 pelican 頁面中嵌入 HTML</a>： 將產生的互動式趨勢圖嵌入 pelican 的文章中，遇到的各種雷</li>
<li><a href="https://blog.wei-lee.me/posts/gossiping/2021/02/post-frequency-analysis">2020 過去了，我寫了什麼文章</a>： 2020 主要發了什麼文章，並聊聊當初為什麼會想寫這些文章</li>
</ol>
<div class="toc">
<ul>
<li><a href="#pelican-stat">什麼是 pelican-stat</a></li>
<li><a href="#pelican-stat_1">如何使用 pelican-stat</a><ul>
<li><a href="#_1">安裝</a></li>
<li><a href="#collect">collect</a></li>
<li><a href="#plot">plot</a></li>
</ul>
</li>
<li><a href="#pelican-stat_2">設計 pelican-stat</a><ul>
<li><a href="#collect_1">collect</a></li>
<li><a href="#plot_1">plot</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="pelican-stat">什麼是 pelican-stat</h2>
<p><a href="https://github.com/getpelican/pelican">pelican</a> 是用來產生靜態網頁的工具，最常見的用途應該是寫部落格<br/>
你所看到的這個部落格就是透過這套工具產生的</p>
<p><a href="https://github.com/Lee-W/pelican-stat">pelican-stat</a> 則是我這次開發來蒐集pelican 文章資料並作圖的工具</p>
<h2 id="pelican-stat_1">如何使用 pelican-stat</h2>
<h3 id="_1">安裝</h3>
<p>因為我把 <a href="https://github.com/getpelican/pelican/tree/4.5.4">pelican</a> 的版本定在 4.5.4<br/>
為了避免跟你的 pelican 版本打架，強烈建議使用 <a href="https://github.com/pipxproject/pipx">pipx</a> 安裝</p>
<div class="highlight"><pre><span></span><code>pipx<span class="w"> </span>install<span class="w"> </span>pelican-stat
</code></pre></div>
<p>pelican-stat 目前支援 <code>collect</code> 和 <code>plot</code> 兩種指令</p>
<div class="highlight"><pre><span></span><code>Usage:<span class="w"> </span>pelican-stat<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...

Options:
<span class="w">  </span>--help<span class="w">  </span>Show<span class="w"> </span>this<span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span>exit.

Commands:
<span class="w">  </span>collect<span class="w">  </span>Collect<span class="w"> </span>data<span class="w"> </span>from<span class="w"> </span>pelican<span class="w"> </span>project<span class="w"> </span>and<span class="w"> </span><span class="nb">export</span><span class="w"> </span>article<span class="w"> </span>metadata
<span class="w">  </span>plot<span class="w">     </span>Draw<span class="w"> </span>trend<span class="w"> </span>plot<span class="w"> </span>based<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>frequency<span class="w"> </span>of<span class="w"> </span>new<span class="w"> </span>posts
</code></pre></div>
<h3 id="collect">collect</h3>
<p>將文章的資訊整理並輸出成 json 檔</p>
<p>e.g.,</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">    </span><span class="err">...</span><span class="p">,</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mf">1560308220.0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Travel"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"authors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">"Lee-W"</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">"reader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markdown"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"published"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">"Star Wars"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Galaxy's Edge"</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Taipei"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Star Wars: Galaxy's Edge - First Peek"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p>第一個參數吃的是 pelican 的設定檔，第二個則是輸出的位置</p>
<h3 id="plot">plot</h3>
<p>就如同指令的名稱，它就是拿來做圖用的<br/>
目前只支援趨勢圖</p>
<p>使用上比 <code>collect</code> 複雜一點，有 5 個可以設定的參數</p>
<ul>
<li><code>--pelican-conf-path [PATH]</code>： pelican 設定檔的路徑</li>
<li><code>--articles-metadata-path [PATH]</code>： 用 <code>collect</code> 指令所產生的文章資料 json 檔的路徑</li>
</ul>
<p>上面兩個一定要有一個有值，不然 pelican-stat 不知道要去哪抓文章資料</p>
<ul>
<li><code>--output-path [PATH]</code>： 輸出檔名</li>
<li><code>--year [YEAR]</code>： 篩選特定年份的文章</li>
<li><code>--groupby-category</code>： 作圖是否要根據文章類別分群</li>
</ul>
<p>最後就能做出像這樣的圖<br/>
產生的會是可以互動的 HTML 檔案</p>
<p><img alt="newplot" src="/images/posts-image/2021-2020-post-frequency/newplot.png"/></p>
<h2 id="pelican-stat_2">設計 pelican-stat</h2>
<p>在開始寫 pelican-stat 前，我有找到類似的工具 👉 <a href="https://github.com/romainx/panorama">panorama</a><br/>
不過它是作為 pelican-plug 來使用，而不是獨立的指令列工具<br/>
所以就只好自己來寫了</p>
<h3 id="collect_1">collect</h3>
<p>第一個收集文章資訊的想法是寫 parser 去解析這些文章<br/>
但是這麼做的話，這個工具可能就很難被其他人使用<br/>
每個人指定 metadata 、放置文章的方式可能都不同<br/>
甚至有人根本是用 reStructuredText 寫的<br/>
（pelican 支援 reStructuredText 跟 markdown）</p>
<p>不過有個工具一定有辦法抓到這些資訊<br/>
沒錯💡<br/>
那就是 pelican 本身！<br/>
所以第二個想法是觀察 pelican 怎麼去解析這些文章<br/>
如果能的話，直接呼叫它的函式，不要重造輪子</p>
<p>從使用 pelican 指令到產生文章，會用這個順序追朔程式碼</p>
<ol>
<li><a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__main__.py#L9">pelican/__main__.py#L9</a></li>
<li><a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L491">pelican/__init__.py#L491</a></li>
<li><a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L501">pelican/__init__.py#L501</a></li>
<li><a href="https://github.com/getpelican/pelican/blob/master/pelican/__init__.py#L403-418">pelican/__init__.py#L403-418</a></li>
</ol>
<p>這就是為什麼我的 <a href="https://github.com/Lee-W/pelican-stat/blob/0.3.0/pelican_stat/collector.py#L15">_get_pelican_instance</a> 會這樣寫</p>
<p>而我額外多做了兩個處理</p>
<div class="highlight"><pre><span></span><code>        <span class="n">settings</span><span class="p">[</span><span class="s2">"PLUGINS"</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">settings</span><span class="p">[</span><span class="s2">"MARKDOWN"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
<p>原因是 MARKDOWN 跟 PLUGINS 都有可能有額外的相依套件<br/>
尤其是 pelican 自從 <a href="https://docs.getpelican.com/en/4.5.0/plugins.html#how-to-use-plugins">4.5.0</a> 之後開始支援從 pip 安裝的 pelican-plugins<br/>
但它們對文章的 metadata 大多不會有影響<br/>
所以將他們從設定中清掉可以避免遇到相依套件沒裝的問題</p>
<p>接著繼續追程式碼</p>
<ol>
<li><a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L527">pelican/__init__.py#L527</a></li>
<li><a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L85-L100">pelican/__init__.py#L85-100</a></li>
</ol>
<p>我透過 pdb 看到 <code>generators[0]</code> 是 <code>ArticlesGenerator</code><br/>
看起來透過它就有很大的機會能取得文章資訊<br/>
它也會對應到我所寫的 <a href="https://github.com/Lee-W/pelican-stat/blob/0.3.0/pelican_stat/collector.py#L29-L43">pelican_stat/collector.py#L29-L43</a><br/>
這裡也是我會把 pelican-stat 相依的 pelican 釘在 4.5.4 的主因<br/>
<a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L169">_get_generator_classes</a> 在 4.5.2 以前是 <code>get_generator_classes</code><br/>
雖然可以用 <code>getattr(pelican_instance, "get_generator_classes")</code> 來支援不同的版本<br/>
但難保 pelican 什麼時候又會改 API<br/>
而且即使 pelican 的版本不同，對於文章 metadata 的格式應該都不會有改變<br/>
所以作為一個工具，使用特定版本的 pelican 應該就足夠了</p>
<p>最後在 <a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/__init__.py#L111-L113">pelican/__init__.py#L111-L113</a> 執行完 <code>generate_context()</code> 就能從 <code>article_generator.aricles</code> 取得文章</p>
<p>而每篇文章都是 <a href="https://github.com/getpelican/pelican/blob/4.5.4/pelican/contents.py#L514">pelican.context.Article</a> 的 instance<br/>
所以只要看裡面有哪些資訊是我要的，在進行輸出就可以了 👉 <a href="https://github.com/Lee-W/pelican-stat/blob/0.3.0/pelican_stat/collector.py#L47">pelican_stat/collector.py#L47</a></p>
<h3 id="plot_1">plot</h3>
<p>最初版測試用的 script，先了用我比較熟悉的 <a href="https://docs.bokeh.org/en/latest/index.html">bokeh</a> 寫<br/>
但上次有朋友安利我 <a href="https://plotly.com/python/">ploty</a> 很好用，就決定來玩玩看<br/>
使用上覺得兩個函式庫都還蠻直覺的<br/>
但 ploty 可以不用多做設定就有 hover tool ，還蠻方便的<br/>
因為這部分的程式碼大多都是看文件就能找到，就不特別聊了</p>
</section>
<section class="post-footer">
<div class="post-share">
<span class="post-info-label">Share</span>
<a aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖 &amp;url=https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Twitter">
<i aria-hidden="true" class="icon icon-twitter"></i><span class="hidden">Twitter</span>
</a>
<a aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Facebook">
<i aria-hidden="true" class="icon icon-facebook"></i><span class="hidden">Facebook</span>
</a>
<a aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot&amp;title=2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;" title="LinkedIn">
<i aria-hidden="true" class="icon icon-linkedin"></i><span class="hidden">LinkedIn</span>
</a>
<a aria-label="Email" class="email" href="mailto:?subject=2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖&amp;body=https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" title="Email">
<i aria-hidden="true" class="icon icon-mail"></i><span class="hidden">Email</span>
</a>
<div class="clear"></div>
</div>
<aside class="post-tags">
<a href="https://blog.wei-lee.me/tag/python.html">Python</a><a href="https://blog.wei-lee.me/tag/pelican.html">pelican</a> </aside>
<div class="clear"></div>
<div class="series">
<p>This post is part 1 of the "2020 發文頻率分析" series:</p>
<ol class="parts">
<li class="active">
<a href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot">2020 發文頻率分析 - 如何得到 pelican 文章資訊並用來做圖</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-to-embed-html-in-pelican">2020 發文頻率分析 - 如何在 pelican 頁面中嵌入 HTML</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/gossiping/2021/02/post-frequency-analysis">2020 發文頻率分析 - 回顧 2020 我所寫的文章</a>
</li>
</ol>
</div>
</section>
<script type="text/javascript">var use_utterance = true;</script>
<section class="post-comments">
<script async="" crossorigin="anonymous" data-issue-term="https://blog.wei-lee.me/posts/tech/2021/01/post-frequency-analysis-how-i-get-pelican-article-data-and-plot" data-label="blog-comment" data-repo="Lee-W/main-blog" data-theme="github-light" src="https://utteranc.es/client.js">
</script>
</section>
<aside class="post-nav">
<div class="clear"></div>
</aside>
</div>
</article>
</main>
<div class="nav-footer">
<nav aria-label="Footer" class="nav-wrapper">
<span class="nav-copy">Those aren't written down are meant to be forgotten © 2023
          <a class="nav-rss" href="https://blog.wei-lee.me/feeds/all.atom.xml" target="_blank" title="RSS"><i class="icon icon-rss"></i></a>
</span>
<span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> • Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> •
          <a class="menu-item js-theme" data-dark="Dark theme" data-light="Light theme" data-system="System theme" href="#">
<span class="theme-icon"></span><span class="theme-text">System theme</span>
</a>
</span>
</nav>
</div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<!-- TODO: minify -->
<script src="https://blog.wei-lee.me/theme/js/jquery.fitvids.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/script.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/clipboard.min.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/copy-to-clipboard.js" type="text/javascript"></script>
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3J7XQ46QH5"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-3J7XQ46QH5', { 'anonymize_ip': true });
    </script>
<script src="/pagefind/pagefind-ui.js"></script>
<script>
      window.addEventListener('DOMContentLoaded', (event) => {
          new PagefindUI({
              element: "#search",
              showImages: false,
          });
      });
  </script>
<!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->
<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });
</script>
</body>
</html>