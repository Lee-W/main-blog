
<!DOCTYPE html>

<html lang="zh-tw">
<head>
<meta charset="utf-8"/>
<meta charset="utf-8" content="text/html" http-equiv="Content-Type">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<title>Enhancing Airflow Task Execution with StartTriggerArgs </title>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="origin" name="referrer"/>
<meta content="Pelican" name="generator"/>
<link href="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" rel="canonical"/>
<!-- Feed -->
<link href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="alternate" title="Those aren't written down are meant to be forgotten Full Atom Feed" type="application/atom+xml"/>
<!-- TODO: combine -->
<link href="https://blog.wei-lee.me/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pygments.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pagefind-ui-custom.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code-copy.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="/pagefind/pagefind-ui.css" rel="stylesheet"/>
<!-- Custom fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,300" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<script>
    var siteUrl = 'https://blog.wei-lee.me';
  </script>
<script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>
<meta content="As mentioned in Starts Airflow task execution directly from the triggerer, the syntax of this feature will change after #39585 merged." name="description"/>
<meta content="Wei Lee" name="author"/>
<meta content="Python" name="tags"/>
<meta content="Airflow" name="tags"/>
<meta content="Airflow 2.10" name="tags"/>
<!-- Open Graph -->
<meta content="Those aren't written down are meant to be forgotten" prefix="og: http://ogp.me/ns#" property="og:site_name">
<meta content="Enhancing Airflow Task Execution with StartTriggerArgs " prefix="og: http://ogp.me/ns#" property="og:title">
<meta content="As mentioned in Starts Airflow task execution directly from the triggerer, the syntax of this feature will change after #39585 merged." prefix="og: http://ogp.me/ns#" property="og:description">
<meta content="zh-tw" prefix="og: http://ogp.me/ns#" property="og:locale">
<meta content="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" prefix="og: http://ogp.me/ns#" property="og:url">
<meta content="article" prefix="og: http://ogp.me/ns#" property="og:type"/>
<meta content="2024-08-12 22:54:00+08:00" prefix="og: http://ogp.me/ns#" property="article:published_time"/>
<meta content="" prefix="og: http://ogp.me/ns#" property="article:modified_time"/>
<meta content="https://blog.wei-lee.me/author/wei-lee.html" prefix="og: http://ogp.me/ns#" property="article:author"/>
<meta content="Tech" prefix="og: http://ogp.me/ns#" property="article:section">
<meta content="Python" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="Airflow" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="Airflow 2.10" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" prefix="og: http://ogp.me/ns#" property="og:image"/>
<!-- Twitter Card -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@clleew" name="twitter:site"/>
<meta content="Enhancing Airflow Task Execution with StartTriggerArgs " name="twitter:title"/>
<meta content="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" name="twitter:url"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" name="twitter:image:src"/>
<meta content="As mentioned in Starts Airflow task execution directly from the triggerer, the syntax of this feature will change after #39585 merged." name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Enhancing Airflow Task Execution with StartTriggerArgs",
  "headline": "Enhancing Airflow Task Execution with StartTriggerArgs",
  "datePublished": "2024-08-12 22:54:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Wei Lee",
    "url": "https://blog.wei-lee.me/author/wei-lee.html"
  },
  "image": "https://blog.wei-lee.me//images/cover.jpeg",
  "url": "https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args",
  "description": "As mentioned in Starts Airflow task execution directly from the triggerer, the syntax of this feature will change after #39585 merged."
}
</script>
</meta></meta></meta></meta></meta></meta></link></meta><link href="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Those aren't written down are meant to be forgotten", "item": "https://blog.wei-lee.me"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://blog.wei-lee.me/posts"}, {"@type": "ListItem", "position": 3, "name": "Tech", "item": "https://blog.wei-lee.me/posts/tech"}, {"@type": "ListItem", "position": 4, "name": "2024", "item": "https://blog.wei-lee.me/posts/tech/2024"}, {"@type": "ListItem", "position": 5, "name": "08", "item": "https://blog.wei-lee.me/posts/tech/2024/08"}, {"@type": "ListItem", "position": 6, "name": "Enhancing airflow task execution with start trigger args", "item": "https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Wei Lee"}, "publisher": {"@type": "Organization", "name": "Those aren't written down are meant to be forgotten"}, "headline": "Enhancing Airflow Task Execution with StartTriggerArgs", "about": "Tech", "datePublished": "2024-08-12 22:54"}</script></head>
<body class="category-template">
<div class="nav-header">
<nav aria-label="Main" class="nav-wrapper">
<ul>
<li class="nav-üè† Home" role="presentation"><a href="/"><span>üè† Home</span></a></li>
<li class="nav-About Me" role="presentation"><a href="/pages/about-me.html"><span>About Me</span></a></li>
<li class="nav-üóÑÔ∏è Archives" role="presentation"><a href="/archives.html"><span>üóÑÔ∏è Archives</span></a></li>
<li class="nav-üìö Series" role="presentation"><a href="/series_list.html"><span>üìö Series</span></a></li>
<li class="nav-üîç Search" role="presentation"><a href="/search.html"><span>üîç Search</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/book.html"><span>Book</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/gossiping.html"><span>Gossiping</span></a></li>
<li class="nav-tech active" role="presentation"><a href="https://blog.wei-lee.me/category/tech.html"><span>Tech</span></a></li>
</ul>
<ul class="nav-meta">
<li class="nav-linkedin"><a aria-label="Linkedin" href="https://tw.linkedin.com/in/clleew" target="_blank"><i aria-hidden="true" class="icon icon-linkedin"></i>
<span>Linkedin</span>
</a></li>
<li class="nav-github"><a aria-label="Github" href="https://github.com/Lee-W" target="_blank"><i aria-hidden="true" class="icon icon-github"></i>
<span>GitHub</span>
</a></li>
<li class="nav-twitter"><a aria-label="Twitter" href="https://twitter.com/clleew" target="_blank"><i aria-hidden="true" class="icon icon-twitter"></i>
<span>Twitter</span>
</a></li>
<li class="nav-search" style="display: none;">
<a title="Search">
<i aria-hidden="true" class="icon icon-search"></i>
<span>Search</span>
</a>
</li>
</ul> </nav>
<div class="nav-wrapper-control">
<div class="inner">
<a class="nav-menu" role="button"><i aria-hidden="true" class="icon icon-menu"></i>Menu</a>
<a class="nav-search" role="button" style="display: none;" title="Search"><i aria-hidden="true" class="icon icon-search"></i></a>
</div>
</div>
</div>
<div aria-label="Close" class="nav-close" role="button"></div>
<section class="page-wrapper" id="wrapper">
<!-- Progressbar -->
<div class="progress-container">
<span class="progress-bar"></span>
</div>
<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="post-header has-cover">
<div class="inner">
<span class="post-info">
<span class="post-type">Article</span>
<span class="post-count">Tech</span>
</span>
<h1 class="post-title">
            Enhancing Airflow Task Execution with StartTriggerArgs
        </h1>
<div class="post-meta">
<div class="post-meta-avatars">
<figure class="post-meta-avatar avatar">
<a class="author-avatar" href="https://blog.wei-lee.me/author/wei-lee.html">
<img alt="Wei Lee" class="author-profile-image" src="https://blog.wei-lee.me//images/avatar.jpeg"/>
</a>
</figure>
</div>
<h4 class="post-meta-author">
            Wei Lee
          </h4>
<time datetime="2024/08/12 - Mon">2024/08/12 - Mon</time>
          ‚Ä¢ 3 min read
        </div>
<div class="post-cover cover">
<img alt="Category Tech" src="https://blog.wei-lee.me//images/cover.jpeg"/>
</div>
</div>
</header>
<!-- Post content -->
<main class="content" data-pagefind-body="" role="main">
<article class="post">
<div class="inner">
<section class="post-content">
<p>As mentioned in <a href="https://blog.wei-lee.me/posts/tech/2024/06/starts-execution-directly-from-triggerer-without-going-to-worker">Starts Airflow task execution directly from the triggerer</a>, the syntax of this feature will change after <a href="https://github.com/apache/airflow/pull/39585">#39585</a> merged.</p>
<!--more-->
<p>This is needed mainly because we don't want to run any user code in the scheduler, which might happen <a href="https://github.com/apache/airflow/pull/38674/files#">here</a>.</p>
<p>This article will cover the following 3 PRs</p>
<ol>
<li><a href="https://github.com/apache/airflow/pull/39585">Prevent start trigger initialization in scheduler</a></li>
<li><a href="https://github.com/apache/airflow/pull/40376">add next_kwargs to StartTriggerArgs</a></li>
<li><a href="https://github.com/apache/airflow/pull/41021">Add start execution from trigger support for existing core sensors</a></li>
</ol>
<p>PR 2 is a minor fix to PR 1. PR 3 is adding this feature to core sensors.</p>
<div class="toc">
<ul>
<li><a href="#what-does-it-look-like-now">What does it look like now?</a></li>
<li><a href="#whats-changed-under-the-hook">What's changed under the hook</a></li>
</ul>
</div>
<h2 id="what-does-it-look-like-now">What does it look like now?</h2>
<p>The following code snippet shows how to define an operator that can start task execution directly from the trigger. I have kept the code simple and removed unnecessary details.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">airflow.sensors.date_time</span> <span class="kn">import</span> <span class="n">DateTimeSensorAsync</span>
<span class="kn">from</span> <span class="nn">airflow.triggers.base</span> <span class="kn">import</span> <span class="n">StartTriggerArgs</span>


<span class="k">class</span> <span class="nc">ExecuteFromTriggerDateTimeSensor</span><span class="p">(</span><span class="n">DateTimeSensor</span><span class="p">):</span>
    <span class="n">start_trigger_args</span><span class="p">:</span> <span class="n">StartTriggerArgs</span> <span class="o">=</span> <span class="n">StartTriggerArgs</span><span class="p">(</span>
        <span class="n">trigger_cls</span><span class="o">=</span><span class="s2">"airflow.triggers.temporal.DateTimeTrigger"</span><span class="p">,</span>
        <span class="n">trigger_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">"moment"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"end_from_trigger"</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="n">next_method</span><span class="o">=</span><span class="s2">"execute_complete"</span><span class="p">,</span>
        <span class="n">next_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start_from_trigger</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">trigger_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">trigger_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">moment</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target_time</span><span class="p">),</span>
            <span class="n">end_from_trigger</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end_from_trigger</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
</code></pre></div>
<p>To enable an operator or a sensor with this feature, we must define the attributes <code>start_trigger_args</code> and <code>start_from_trigger</code>. We use <code>start_from_trigger</code> to determine whether we want to enable this feature and <code>start_trigger_args</code> to decide which trigger we want to use and how to use it. <code>start_trigger_args</code> should be an instance of <code>airflow.triggers.base.StartTriggerArgs</code> and it should contain the following arguments.</p>
<ul>
<li><code>trigger_cls</code><ul>
<li>the full import path of the trigger to run</li>
<li>e.g., <code>airflow.triggers.temporal.DateTimeTrigger</code></li>
</ul>
</li>
<li><code>trigger_kwargs</code><ul>
<li>the keyword arguments passed into the trigger for initialization</li>
<li>e.g., <code>{"moment": "", "end_from_trigger": False}</code></li>
</ul>
</li>
<li><code>next_method</code><ul>
<li>the name of the method to run after execution done in the trigger</li>
<li>Most of the time, it's <code>execute_complete</code></li>
</ul>
</li>
<li><code>next_kwargs</code><ul>
<li>the keyword arguments passed into the next method</li>
<li>Most of the time, it's <code>None</code>. I never saw it used. ü§î</li>
</ul>
</li>
<li><code>timeout</code><ul>
<li>the timeout for the trigger</li>
<li>Most of the time, it'll be set to <code>self.execution_timeout</code>.</li>
</ul>
</li>
</ul>
<p>If the attributes <code>start_trigger_args</code> and <code>start_from_trigger</code> are defined as class attributes, we could set <code>trigger_kwargs</code> as a temporary value and update the values in the <code>__init__</code> method. However, implementing a DAG with dynamic task mapping on an operator supporting this feature works differently, which will be detailed in the next article.</p>
<h2 id="whats-changed-under-the-hook">What's changed under the hook</h2>
<p>Let's start from <a href="https://github.com/apache/airflow/blob/9901a065fcd93307d8e1d69e34621966d7313511/airflow/models/dagrun.py#L1541-L1545">airflow/models/dagrun.py</a>. Airflow verifies if the <code>start_from_trigger</code> attribute is set to <code>True</code> and the <code>start_from_trigger</code> attribute is set. If both conditions are met, the <code>defer_task</code> method will be called with <code>exception=None</code>.</p>
<div class="highlight"><pre><span></span><code>            <span class="k">elif</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_from_trigger</span> <span class="ow">is</span> <span class="kc">True</span> <span class="ow">and</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ti</span><span class="o">.</span><span class="n">start_date</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">ti</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">TaskInstanceState</span><span class="o">.</span><span class="n">UP_FOR_RESCHEDULE</span><span class="p">:</span>
                    <span class="n">ti</span><span class="o">.</span><span class="n">try_number</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">ti</span><span class="o">.</span><span class="n">defer_task</span><span class="p">(</span><span class="n">exception</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<p>Then, let's go to <a href="https://github.com/apache/airflow/blob/9901a065fcd93307d8e1d69e34621966d7313511/airflow/models/taskinstance.py#L1607-L1621">airflow/models/taskinstance.py</a>.</p>
<div class="highlight"><pre><span></span><code>    <span class="k">if</span> <span class="n">exception</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">trigger_row</span> <span class="o">=</span> <span class="n">Trigger</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">exception</span><span class="o">.</span><span class="n">trigger</span><span class="p">)</span>
        <span class="n">next_method</span> <span class="o">=</span> <span class="n">exception</span><span class="o">.</span><span class="n">method_name</span>
        <span class="n">next_kwargs</span> <span class="o">=</span> <span class="n">exception</span><span class="o">.</span><span class="n">kwargs</span>
        <span class="n">timeout</span> <span class="o">=</span> <span class="n">exception</span><span class="o">.</span><span class="n">timeout</span>
    <span class="k">elif</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">trigger_row</span> <span class="o">=</span> <span class="n">Trigger</span><span class="p">(</span>
            <span class="n">classpath</span><span class="o">=</span><span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">trigger_cls</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="o">=</span><span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">trigger_kwargs</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="p">)</span>
        <span class="n">next_kwargs</span> <span class="o">=</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">next_kwargs</span>
        <span class="n">next_method</span> <span class="o">=</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">next_method</span>
        <span class="n">timeout</span> <span class="o">=</span> <span class="n">ti</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">start_trigger_args</span><span class="o">.</span><span class="n">timeout</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AirflowException</span><span class="p">(</span><span class="s2">"exception and ti.task.start_trigger_args cannot both be None"</span><span class="p">)</span>
</code></pre></div>
<p>We handle standard task deferral in the first <code>if</code> condition. This happens when a task runs the <code>defer</code> method and raises a <code>TaskDeferred</code> exception. For a more detailed version, you can refer to <a href="https://blog.wei-lee.me/posts/tech/2024/06/starts-execution-directly-from-triggerer-without-going-to-worker#how-did-the-deferrable-operator-work-before-this-change">this link</a>. Therefore, we need to set <code>exception=None</code> in the previous code block, as we are not handling it in the standard way.</p>
<p>The <code>elif</code> statement checks whether this operator has a <code>start_trigger_args</code> attribute, which indicates that this operator supports the "starting execution from the trigger" feature. Airflow will then load the value from <code>start_trigger_args</code> and assign it to the variables that will later be used in the rest of the deferral process, similar to the standard task deferral.</p>
<p>The next article in this series will cover how to utilize this feature with dynamic task mapping (well.. partially). The implementation details will change somewhat, but the core idea remains unchanged.</p>
</section>
<section class="post-footer">
<div class="post-share">
<span class="post-info-label">Share</span>
<a aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=Enhancing Airflow Task Execution with StartTriggerArgs &amp;url=https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Twitter">
<i aria-hidden="true" class="icon icon-twitter"></i><span class="hidden">Twitter</span>
</a>
<a aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Facebook">
<i aria-hidden="true" class="icon icon-facebook"></i><span class="hidden">Facebook</span>
</a>
<a aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args&amp;title=Enhancing Airflow Task Execution with StartTriggerArgs" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;" title="LinkedIn">
<i aria-hidden="true" class="icon icon-linkedin"></i><span class="hidden">LinkedIn</span>
</a>
<a aria-label="Email" class="email" href="mailto:?subject=Enhancing Airflow Task Execution with StartTriggerArgs&amp;body=https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" title="Email">
<i aria-hidden="true" class="icon icon-mail"></i><span class="hidden">Email</span>
</a>
<div class="clear"></div>
</div>
<aside class="post-tags">
<a href="https://blog.wei-lee.me/tag/python.html">Python</a><a href="https://blog.wei-lee.me/tag/airflow.html">Airflow</a><a href="https://blog.wei-lee.me/tag/airflow-210.html">Airflow 2.10</a> </aside>
<div class="clear"></div>
<div class="series">
<p>This post is part 2 of the "What If...? Running Airflow Tasks without the workers" series:</p>
<ol class="parts">
<li>
<a href="https://blog.wei-lee.me/posts/tech/2024/06/starts-execution-directly-from-triggerer-without-going-to-worker">Starts Airflow task execution directly from the triggerer</a>
</li>
<li class="active">
<a href="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args">Enhancing Airflow Task Execution with StartTriggerArgs</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2024/08/serialize-start-trigger-args">Serialize StartTriggerArgs - That's not how Airflow serialization works!</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2024/08/dynamic-task-mapping-on-operators-that-can-start-execution-from-trigger">Dynamic task mapping on operators that can start execution from trigger - This is not the feature you're looking for</a>
</li>
</ol>
</div>
</section>
<script type="text/javascript">var use_utterance = true;</script>
<section class="post-comments">
<script async="" crossorigin="anonymous" data-issue-term="https://blog.wei-lee.me/posts/tech/2024/08/enhancing-airflow-task-execution-with-start-trigger-args" data-label="blog-comment" data-repo="Lee-W/main-blog" data-theme="github-light" src="https://utteranc.es/client.js">
</script>
</section>
<aside class="post-nav">
<div class="clear"></div>
</aside>
</div>
</article>
</main>
<div class="nav-footer">
<nav aria-label="Footer" class="nav-wrapper">
<span class="nav-copy">Those aren't written down are meant to be forgotten ¬© 2023
          <a class="nav-rss" href="https://blog.wei-lee.me/feeds/all.atom.xml" target="_blank" title="RSS"><i class="icon icon-rss"></i></a>
</span>
<span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> ‚Ä¢ Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> ‚Ä¢
          <a class="menu-item js-theme" data-dark="Dark theme" data-light="Light theme" data-system="System theme" href="#">
<span class="theme-icon"></span><span class="theme-text">System theme</span>
</a>
</span>
</nav>
</div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<!-- TODO: minify -->
<script src="https://blog.wei-lee.me/theme/js/jquery.fitvids.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/script.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/clipboard.min.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/copy-to-clipboard.js" type="text/javascript"></script>
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3J7XQ46QH5"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-3J7XQ46QH5', { 'anonymize_ip': true });
    </script>
<script src="/pagefind/pagefind-ui.js"></script>
<script>
      window.addEventListener('DOMContentLoaded', (event) => {
          new PagefindUI({
              element: "#search",
              showImages: false,
          });
      });
  </script>
<!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->
<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });
</script>
</body>
</html>