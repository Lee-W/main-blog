<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

<link rel="stylesheet" href="https://lee-w.github.io/theme/css/style.min.css?fc5adb95">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Lee-W" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Python, Git, Tech, " />

<meta property="og:title" content="Python Table Manners - Commitizen: è¦æ ¼åŒ– commit message "/>
<meta property="og:url" content="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen" />
<meta property="og:description" content="æ¥çºŒè‘—å‰ä¸€ç¯‡çš„ pre-commit ç¹¼çºŒè«‡ git ç›¸é—œçš„å·¥å…· é€™ç¯‡ä¾†èŠèŠå¦‚ä½•é€é commitizen è¦ç¯„ commit message é‚„æœ‰æˆ‘å€‘èƒ½æ‹¿è¦ç¯„éçš„ commit message åšä»€éº¼" />
<meta property="og:site_name" content="Laziness makes Great Engineer" />
<meta property="og:article:author" content="Lee-W" />
<meta property="og:article:published_time" content="2020-03-01T00:45:00+08:00" />
<meta property="og:article:modified_time" content="2020-07-19T17:17:00+08:00" />
<meta name="twitter:title" content="Python Table Manners - Commitizen: è¦æ ¼åŒ– commit message ">
<meta name="twitter:description" content="æ¥çºŒè‘—å‰ä¸€ç¯‡çš„ pre-commit ç¹¼çºŒè«‡ git ç›¸é—œçš„å·¥å…· é€™ç¯‡ä¾†èŠèŠå¦‚ä½•é€é commitizen è¦ç¯„ commit message é‚„æœ‰æˆ‘å€‘èƒ½æ‹¿è¦ç¯„éçš„ commit message åšä»€éº¼">

        <title>Python Table Manners - Commitizen: è¦æ ¼åŒ– commit message  Â· Laziness makes Great Engineer
</title>
        <link href="https://lee-w.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Laziness makes Great Engineer - Full Atom Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-96190677-1', 'auto');
    ga('send', 'pageview');
</script>


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://lee-w.github.io/"><span class=site-name>Laziness makes Great Engineer</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://lee-w.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://lee-w.github.io/pages/about-me.html">About Me</a></li>
                                <li ><a href="https://lee-w.github.io/categories.html">Categories</a></li>
                                <li ><a href="https://lee-w.github.io/tags.html">Tags</a></li>
                                <li ><a href="https://lee-w.github.io/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://lee-w.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen">
                Python Table Manners - Commitizen: è¦æ ¼åŒ– commit message
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#commit-message">ç‚ºä»€éº¼è¦å¥½å¥½å¯« commit message</a></li>
<li><a href="#commitizen">Commitizen</a></li>
<li><a href="#commitizen_1">å®‰è£èˆ‡è¨­å®š Commitizen</a></li>
<li><a href="#commitizen_2">ä½¿ç”¨ Commitizen</a></li>
<li><a href="#commit-message_1">å¼·åˆ¶æª¢æŸ¥ commit message</a></li>
<li><a href="#_1">è‡ªå‹•æå‡ç‰ˆæœ¬è™Ÿ</a></li>
<li><a href="#commit">å®¢è£½åŒ– commit è¦ç¯„</a><ul>
<li><a href="#_2">ç›´æ¥åœ¨è¨­å®šæª”è¨­å®š</a></li>
<li><a href="#commit-python">å°‡å®¢è£½åŒ–çš„ commit è¦ç¯„å¯«æˆ Python å¥—ä»¶ç™¼ä½ˆ</a></li>
</ul>
</li>
<li><a href="#changelog">è‡ªå‹•ç”¢ç”Ÿæ›´æ–°æ—¥èªŒï¼ˆChangelogï¼‰</a></li>
<li><a href="#commitizen_3">å…¶ä»– commitizen æŒ‡ä»¤å’Œå¸¸ç”¨åƒæ•¸</a></li>
<li><a href="#commitizen_4">é—œæ–¼ commitizen çš„é›œè«‡</a><ul>
<li><a href="#java-script-commitizen">ç‚ºä»€éº¼ä¸ç”¨ Java Script çš„ commitizen å°±å¥½äº†</a></li>
<li><a href="#_3">æŒçºŒè²¢ç»</a></li>
</ul>
</li>
<li><a href="#reference">Reference</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            <p>æ¥çºŒè‘—å‰ä¸€ç¯‡çš„ pre-commit ç¹¼çºŒè«‡ git ç›¸é—œçš„å·¥å…·<br/>
é€™ç¯‡ä¾†èŠèŠå¦‚ä½•é€é <a href="https://github.com/commitizen-tools/commitizen">commitizen</a> è¦ç¯„ commit message<br/>
é‚„æœ‰æˆ‘å€‘èƒ½æ‹¿è¦ç¯„éçš„ commit message åšä»€éº¼</p>
<!--more-->

<h2 id="commit-message">ç‚ºä»€éº¼è¦å¥½å¥½å¯« commit message</h2>
<p><img alt="no-good-commit" src="/images/posts-image/2020-02-22-python-table-manner-series/no-good-commit.jpg"/></p>
<p>å¦‚æœä¸å¥½å¥½å¯«æœ‰æ„ç¾©çš„ commit messageï¼Œæ¯æ¬¡éƒ½åªç”¨ "update" ç•¶è¨Šæ¯<br/>
ç•¶ä½ ä¸‹äº† <code>git log</code> æŒ‡ä»¤ï¼Œå°±æœƒçœ‹åˆ°ä¸€å † "update"<br/>
ç„¶å¾Œå“ªå¤©ç³»çµ±å‡ºéŒ¯çš„æ™‚å€™ï¼Œä½ ä¹Ÿæœƒä¸çŸ¥é“è¦å›æœ”åˆ°å“ªä¸€å€‹ç‰ˆæœ¬</p>
<p><img alt="bad-commit" src="/images/posts-image/2020-02-22-python-table-manner-series/bad-commit.jpg"/><br/>
(from <a href="https://github.com/hackjutsu/bad-commit-example/commits/master">hackjutsu/bad-commit-example</a>)</p>
<p>æ’°å¯«å¥½çš„ commit messageï¼Œé™¤äº†è®“æœªä¾†çš„è‡ªå·±çŸ¥é“è‡ªå·±åœ¨å¹¹å˜›<br/>
ä¹Ÿèƒ½è®“åœ˜éšŠä¹‹é–“çš„æºé€šæ›´é †åˆ©</p>
<ul>
<li>é€ Pull Request / Merge Request æ™‚ï¼Œå¯©æ ¸è€…èƒ½æ›´å¿«é€Ÿåœ°çŸ¥é“å¢åŠ äº†å“ªäº›åŠŸèƒ½</li>
<li>æ–°é€²äººå“¡å¯ä»¥å¾éå¾€çš„ commit message æ‰¾åˆ°æ•´å€‹å°ˆæ¡ˆç™¼å±•çš„è„ˆçµ¡ï¼Œæ›´å®¹æ˜“ä¸Šæ‰‹å°ˆæ¡ˆ</li>
</ul>
<h2 id="commitizen">Commitizen</h2>
<p>é™¤äº†æä¾›çš„ commit message æ’°å¯«å»ºè­°å’Œè¦ç¯„ ï¼ˆğŸ‘‰ <a href="https://commitizen-tools.github.io/commitizen/tutorials/writing_commits/">Writing commits</a>ï¼‰<br/>
<a href="https://commitizen-tools.github.io/commitizen/">commitizen</a> æ›´é€²ä¸€æ­¥æä¾›äº’å‹•å¼ä»‹é¢ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥å¤ è¼•é¬†åœ°ç”¢ç”Ÿç¬¦åˆè¦ç¯„çš„ commit message<br/>
åŒæ™‚ä¹Ÿæ•´åˆäº†å‰ä¸€ç¯‡æ‰€æåˆ°çš„ pre-commit hookï¼Œé¿å…ä½¿ç”¨è€…å°‡ä¸ç¬¦åˆè¦ç¯„çš„ commit message å¯«å…¥<br/>
é™¤äº†æ¡ç”¨ä¾†è‡ª Angular ç¤¾ç¾¤çš„ <a href="https://www.conventionalcommits.org/en/v1.0.0/">Conventional Commits</a> (ç´„å®šå¼æäº¤) å¤–ï¼Œ commitizen æä¾›äº†é«˜åº¦çš„å®¢è£½åŒ–ï¼Œè®“æ¯å€‹åœ˜éšŠæˆ–å°ˆæ¡ˆéƒ½å¯ä»¥ä¾ç…§è‡ªå·±çš„éœ€æ±‚ï¼Œæ’°å¯«ç›¸å°æ‡‰çš„è¦ç¯„<br/>
è¦ç¯„äº† commit message å¾Œï¼Œé™¤äº†å¢åŠ å¯è®€æ€§å¢åŠ å¤–ï¼Œä¹Ÿè®“è¨Šæ¯æœ‰å¯ä»¥è¢«è§£æåšå…¶ä»–é‹ç”¨<br/>
e.g., æå‡ç‰ˆæœ¬è™Ÿ, ç”¢ç”Ÿæ›´æ–°æ—¥èªŒ</p>
<h2 id="commitizen_1">å®‰è£èˆ‡è¨­å®š Commitizen</h2>
<p>è·Ÿ invoke ä¸€æ¨£ï¼Œæˆ‘æœƒæŠŠ commitizen åŒæ™‚å®‰è£åœ¨ç³»çµ±å’Œè™›æ“¬ç’°å¢ƒ<br/>
å®‰è£åœ¨è™›æ“¬ç’°å¢ƒä¸»è¦æ˜¯ç‚ºäº†èƒ½åœ¨ CI/CD ä¼ºæœå™¨ä¸Šè‡ªå‹•å‡ç‰ˆ</p>
<div class="highlight"><pre><span></span><code><span class="c1"># å®‰è£ commitizen åˆ°ç³»çµ±</span>
pipx install commitizen

<span class="c1"># å®‰è£ commitizen åˆ°è™›æ“¬ç’°å¢ƒä¸­</span>
pipenv install commitizen --dev
</code></pre></div>
<p>åœ¨å°ˆæ¡ˆä¸­ç¬¬ä¸€æ¬¡ä½¿ç”¨ commitizen å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–æŒ‡ä»¤ä¾†å®ŒæˆåŸºæœ¬çš„è¨­å®š</p>
<div class="highlight"><pre><span></span><code>cz init
</code></pre></div>
<p>ä¸€é–‹å§‹æœƒå•è¦å°‡è¨­å®šå¯«åœ¨å“ªå€‹æª”æ¡ˆå…§<br/>
ini æ ¼å¼çš„è¨­å®šï¼ˆi.e., <code>.cz</code>, <code>setup.cfg</code>, <code>.cz.cfg</code>ï¼‰ åœ¨ 2.0 ä¹‹å¾Œå°‡ä¸å†æ”¯æ´<br/>
å› æ­¤å»ºè­°é¸æ“‡ <code>pyproject.toml</code> æˆ– <code>.cz.toml</code></p>
<p><img alt="cz-init-1" src="/images/posts-image/2020-02-22-python-table-manner-series/cz-init-1.jpg"/></p>
<p>æ¥è‘—æœƒé¸æ“‡ä¸€å¥— commit è¦ç¯„<br/>
é è¨­æœ‰ä¸‰ç¨®ï¼Œé€™è£¡å…ˆä»¥ <code>cz_conventional_commits</code> ç‚ºä¾‹</p>
<p><img alt="cz-init-2" src="/images/posts-image/2020-02-22-python-table-manner-series/cz-init-2.jpg"/></p>
<p>å†ä¾†å›è©¢å•æœ€æ–°çš„ git tag ä¾†ç¢ºèªæ˜¯å¦ç‚ºæœ€æ–°çš„ç‰ˆæœ¬è™Ÿ<br/>
å¦‚æœä¸æ˜¯ï¼Œå°±æœƒåˆ—å‡º <code>git tag</code> æ‰€æœ‰çš„çµæœ<br/>
å¦‚æœå®Œå…¨æ²’æœ‰ç”¨é git tagï¼Œé è¨­æœƒæ˜¯ <code>0.0.1</code></p>
<p><img alt="cz-init-3" src="/images/posts-image/2020-02-22-python-table-manner-series/cz-init-3.jpg"/></p>
<p>æœ€å¾Œæœƒè©¢å•ç‰ˆæœ¬çš„æ ¼å¼è¦æ˜¯å¦‚ä½•<br/>
å¸¸ç”¨çš„æ ¼å¼æœ‰ <code>$version</code> (e.g., <code>1.0.0</code>) æˆ– <code>v$version</code> (e.g., <code>v1.0.0</code>)</p>
<p><img alt="cz-init-4" src="/images/posts-image/2020-02-22-python-table-manner-series/cz-init-4.jpg"/></p>
<p>å®Œæˆå¾Œå°±æœƒå°‡ç›¸å°æ‡‰çš„å…§å®¹åŠ å…¥åˆ°è¨­å®šæª”</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.commitizen]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"cz_conventional_commits"</span>
<span class="n">version</span> <span class="o">=</span> <span class="s">"1.0.2"</span>
<span class="n">tag_format</span> <span class="o">=</span> <span class="s">"$version"</span>
</code></pre></div>
<h2 id="commitizen_2">ä½¿ç”¨ Commitizen</h2>
<div class="highlight"><pre><span></span><code><span class="c1"># ä½¿ç”¨ commitizen åš commit</span>
<span class="c1"># (ä¹Ÿå¯ä»¥ç”¨ç°¡çŸ­ç‰ˆçš„ cz c)</span>
cz commit
</code></pre></div>
<p>ä»¥ <code>cz_conventional_commits</code> é€™å¥—è¦å‰‡ç‚ºä¾‹<br/>
æœƒå…ˆè©¢å•é€™æ¬¡çš„ commit åšäº†å“ªä¸€ç¨®æ”¹å‹•</p>
<p><img alt="commitizen-1" src="/images/posts-image/2020-02-22-python-table-manner-series/commitizen-1.jpg"/></p>
<p>æ¥è‘—æœƒè¦æ±‚è¼¸å…¥é€™æ¬¡æ”¹å‹•å„é …ç´°ç¯€</p>
<ul>
<li>Scopeï¼š æ”¹å‹•ç¯„åœ</li>
<li>Subjectï¼š ç°¡çŸ­æ•˜è¿°é€™æ¬¡çš„æ”¹å‹•</li>
<li>Is this a BREAKING CHANGEï¼Ÿï¼š é€™æ˜¯å¦æ˜¯ä¸€å€‹é‡å¤§æ”¹å‹•</li>
<li>Bodyï¼š è©³ç´°æ•˜è¿°é€™æ¬¡çš„æ”¹å‹•</li>
<li>Footerï¼š åƒè€ƒï¼Œé€šå¸¸å¯ä»¥å°‡ Issue çš„ç·¨è™Ÿå¯«åœ¨é€™</li>
</ul>
<p><img alt="commitizen-2-w1024" src="/images/posts-image/2020-02-22-python-table-manner-series/commitizen-2.jpg"/></p>
<p>å›ç­”å®Œï¼Œå°±æœƒç”¢ç”Ÿ commit message <strong>feat(tasks): add `inv git.commit`</strong></p>
<h2 id="commit-message_1">å¼·åˆ¶æª¢æŸ¥ commit message</h2>
<p>å‰›é–‹å§‹å¼•å…¥ commitizen æ™‚ï¼Œå¯èƒ½æœƒå¸¸å¸¸å¿˜è¨˜è¦ä½¿ç”¨å®ƒä¾†åš commit<br/>
é€™æ™‚å€™å°±èƒ½ä½¿ç”¨åˆ°å‰ä¸€ç¯‡æåˆ°çš„ <a href="https://pre-commit.com/">pre-commit</a></p>
<p>æˆ‘åœ¨ <a href="https://github.com/commitizen-tools/commitizen">commitizen</a> ä¸­æœ‰åŠ å…¥ <a href="https://github.com/commitizen-tools/commitizen/blob/master/.pre-commit-hooks.yaml">.pre-commit-hooks.yaml</a><br/>
å› æ­¤åªè¦åœ¨å°ˆæ¡ˆçš„ <code>.pre-commit-config.yaml</code> åŠ å…¥ä»¥ä¸‹é€™æ®µ</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">repos</span>
  <span class="l l-Scalar l-Scalar-Plain">- repo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/commitizen-tools/commitizen</span>
    <span class="l l-Scalar l-Scalar-Plain">rev</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">v1.23.1</span>
    <span class="l l-Scalar l-Scalar-Plain">hooks</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">commitizen</span>
        <span class="nt">stages</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">commit-msg</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>ä¸¦é€é pre-commit è¨­å®š commit-msg éšæ®µçš„ git hook</p>
<div class="highlight"><pre><span></span><code>pipenv run pre-commit install -t commit-msg
</code></pre></div>
<p>åœ¨ commit åŸ·è¡Œå®Œï¼Œè¦é€²è¨Šæ¯å¯«å…¥å‰<br/>
git æœƒåŸ·è¡Œ <code>cz check</code> ä¾†ç¢ºèªè¼¸å…¥çš„è¨Šæ¯æ˜¯å¦ç¬¦åˆè¦ç¯„<br/>
å¦‚æœä¸ç¬¦åˆè¦ç¯„å°±æœƒæ‹’çµ•é€™æ¬¡çš„ commit</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯æª¢æŸ¥æœƒåœ¨ç”¢ç”Ÿ commit message å¾Œæ‰èƒ½åŸ·è¡Œ<br/>
å› æ­¤è¦è¨­å®š commit-msg éšæ®µçš„ git hook ï¼ˆi.e., <code>.git/hooks/commit-msg</code>ï¼‰<br/>
å¦‚æœåªä¸‹ <code>pipenv run pre-commit install</code> æ˜¯ä¸æœƒæˆåŠŸçš„</p>
<p>æ¥è‘—å°±å¯ä»¥é–‹å§‹è«‡ï¼Œèƒ½å°‡é€™äº› commit message åšä»€éº¼æ‡‰ç”¨äº†</p>
<h2 id="_1">è‡ªå‹•æå‡ç‰ˆæœ¬è™Ÿ</h2>
<p>èˆ‡ commit message è¦ç¯„å¯ä»¥åšå®¢è£½åŒ–ä¸åŒ<br/>
commitizen ç›®å‰ä¸¦æ²’æœ‰æä¾›ä¸åŒç‰ˆæœ¬è¡¨ç¤ºæ–¹å¼çš„å®¢è£½åŒ–<br/>
ä¸€å¾‹éƒ½æœƒéµå®ˆ <a href="https://semver.org/">Semantic Version</a> ï¼ˆèªæ„åŒ–ç‰ˆæœ¬ï¼‰<br/>
é€™ç¨®ç‰ˆæœ¬è™Ÿæ¡ç”¨ <code>MAJOR.MINOR.PATCH</code> (e.g., <code>1.10.20</code>) çš„æ ¼å¼</p>
<ul>
<li><code>MAJOR</code>ï¼š é‡å¤§æ”¹å‹•ï¼Œä¸å‘å¾Œç›¸å®¹</li>
<li><code>MINOR</code>ï¼š æ–°å¢åŠŸèƒ½ï¼Œå¿…é ˆå‘å¾Œç›¸å®¹</li>
<li><code>PATCH</code>ï¼š ä¿®æ­£åŠŸèƒ½ï¼Œå¿…é ˆå‘å¾Œç›¸å®¹</li>
</ul>
<p>ä»¥ commitizen é è¨­ä½¿ç”¨çš„ <code>cz_conventional_commits</code> ä¾†èªªï¼Œç›¸å°æ‡‰çš„ commit ç¨®é¡å’Œæ‡‰è©²æå‡çš„ç‰ˆæœ¬è™Ÿå¦‚ä¸‹</p>
<ul>
<li><code>MAJOR</code>: BREAKING CHANGE (æ¯æ¬¡ commit éƒ½æœƒå•çš„ï¼Œé€™æ¬¡æ˜¯å¦ç‚ºé‡å¤§æ”¹å‹•)</li>
<li><code>MINOR</code>: feat</li>
<li><code>PATCH</code>: fix, refactor, perf</li>
</ul>
<p>p.s. conventional commit å¯ä»¥æœ‰å¾ˆå¤šç¨®å»¶ä¼¸ï¼Œé€™è£¡æŒ‡çš„åªæ˜¯ commitizen æ¡ç”¨çš„ç‰ˆæœ¬</p>
<p>æ¯æ¬¡æå‡ç‰ˆæœ¬è™Ÿåªæœƒæå‡ 1 ï¼Œè€Œä¸”ä»¥æœ€å‰é¢çš„ç‚ºä¸»<br/>
e.g., è¦ merge å› master çš„æ”¹å‹•ä¸­å‡ºç¾ BREAKING CHANGEï¼Œä¸ç®¡å…¶ä»–æœ‰å¤šå°‘ feat æˆ– fix ï¼Œéƒ½åªæœƒè®“ <code>MAJOR</code> æå‡ 1</p>
<p>ç›®å‰åªæœ‰ <code>cz_conventional_commits</code> æœ‰é è¨­çš„ç‰ˆæœ¬å°æ‡‰<br/>
å¦‚æœç‚º <code>cz_jira</code>, <code>cz_customize</code> æˆ–è‡ªå·±å®¢è£½åŒ–è¦å‰‡åŠ ä¸Šæå‡ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œå¯ä»¥åƒè€ƒcommitizen æ–‡ä»¶ä¸­ <a href="https://commitizen-tools.github.io/commitizen/customization/">customization</a> ï¼Œä¸¦åŠ ä¸Š <code>bump_pattern</code>ï¼ˆæ¯”å° commit æ˜¯å“ªå€‹ç¨®é¡ï¼‰ å’Œ <code>bump_map</code> ï¼ˆå“ªå€‹ç¨®é¡çš„ commit è¦æå‡å“ªå€‹ç‰ˆæœ¬è™Ÿï¼‰</p>
<p>ç¨å¾®è§£é‡‹äº†ä¸€ä¸‹æå‡ç‰ˆæœ¬çš„è¦å‰‡ï¼Œæ¥ä¸‹ä¾†è¦ä¾†è¬›è©²å¦‚ä½•ä½¿ç”¨äº†</p>
<div class="highlight"><pre><span></span><code>cz bump
</code></pre></div>
<p>ç¬¬ä¸€æ¬¡æå‡ç‰ˆæœ¬çš„æ™‚å€™ï¼Œæœƒå…ˆç¢ºèªç›®å‰åœ¨è¨­å®šæª” (e.g., <code>pyproject.toml</code>ï¼‰ä¸­çš„ç‰ˆæœ¬æ˜¯å¦å·²ç¶“æœ‰ç›¸å°æ‡‰çš„ git tag</p>
<p>å¦‚æœæ²’æœ‰å‰‡æœƒç¢ºèªé€™æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡ç‚ºé€™å€‹å°ˆæ¡ˆåŠ ä¸Š git tag</p>
<div class="highlight"><pre><span></span><code>Tag v0.0.1 could not be found.
Possible causes:
- version in configuration is not the current version
- tag_format is missing, check them using 'git tag --list'

? Is this the first tag created?  (Y/n)
</code></pre></div>
<p>å¦‚æœæƒ³è·³éé€™å€‹ç¢ºèªå¯ä»¥åœ¨å¾Œé¢åŠ ä¸Šåƒæ•¸ <code>--yes</code></p>
<div class="highlight"><pre><span></span><code>cz bump --yes
</code></pre></div>
<p>æ¥è‘— commitizen å°±æœƒæ–°å¢ä¸€å€‹ç›¸å°æ‡‰çš„ git tag å’Œæ›´æ–°è¨­å®šæª”ä¸­çš„ç‰ˆæœ¬è™Ÿ<br/>
å› ç‚ºè¦å°‡è¨­å®šæª”ä¸­çš„æ”¹å‹•å„²å­˜ï¼Œ commitizen é€™æ™‚æœƒå†æ–°å¢ä¸€å€‹ commit<br/>
(e.g., <code>bump: version 0.0.1 â†’ 0.0.2</code>)</p>
<p>é™¤äº†è¨­å®šæª”ä¸­çš„ç‰ˆæœ¬è™Ÿå¤–ï¼Œæœ‰æ™‚å€™å°ˆæ¡ˆæœ¬èº«ä¹Ÿæœ‰å…¶ä»–åœ°æ–¹æœƒä½¿ç”¨åˆ°ç‰ˆæœ¬è™Ÿ<br/>
å¦‚æœæ¯æ¬¡é€é commitizen æå‡ç‰ˆæœ¬è™Ÿå¾Œï¼Œé‚„è¦æ‰‹å‹•æ›´æ–°å…¶ä»–éƒ¨åˆ†ï¼Œå°±å¤±å»äº†è‡ªå‹•çš„å¥½è™•äº†<br/>
æ‰€ä»¥ commitizen å¦å¤–æä¾›äº† <code>version_files</code> é€™å€‹è¨­å®šï¼Œå°‡éœ€è¦æ”¹å‹•çš„æª”æ¡ˆä¹Ÿå¯«é€²ä¾†<br/>
commitizen æå‡ç‰ˆæœ¬è™Ÿæ™‚ï¼Œå°±æœƒä¸€ä½µæ›´æ–°æª”æ¡ˆçš„å…§å®¹<br/>
ï¼ˆRead More ğŸ‘‰ <a href="https://commitizen-tools.github.io/commitizen/bump/">bump</a> ï¼‰</p>
<p>é€é <code>cz bump</code> æŒ‡ä»¤é›–ç„¶å¯ä»¥çœä¸‹å¾ˆå¤šæ­¥é©Ÿ<br/>
ä½†æ›´å¥½çš„åšæ³•æ˜¯å°‡è‡ªå‹•å‡ç‰ˆåŠ å…¥åˆ°åŠ å…¥åˆ°æŒçºŒæ•´åˆï¼ˆContinuous Integrationï¼‰<br/>
åœ¨ git repo ä¸Šå°‡åˆ†æ”¯ merge åˆ° master æ™‚ï¼Œè‡ªå‹•æå‡ç‰ˆæœ¬è™Ÿ<br/>
é€™éƒ¨åˆ†å› ç‚ºæœƒç‰½æ¶‰åˆ°å„å€‹ä¸åŒå¹³å°çš„åšæ³•ï¼Œä¸æœƒæ•˜è¿°å¤ªå¤š<br/>
é€™è£¡é™„ä¸Š commitizen æ–‡ä»¶ä¸­ <a href="https://commitizen-tools.github.io/commitizen/tutorials/github_actions/">Github Actions</a> å’Œ <a href="https://commitizen-tools.github.io/commitizen/tutorials/gitlab_ci/">Gitlab CI</a> çš„åšæ³•</p>
<h2 id="commit">å®¢è£½åŒ– commit è¦ç¯„</h2>
<p>ç›®å‰ commitizen æä¾›å…©ç¨®æ–¹å¼</p>
<ol>
<li>ç›´æ¥åœ¨è¨­å®šæª”è¨­å®š â†’ é©åˆåªéœ€è¦æ”¹å‹•å•é¡Œï¼Œä¸éœ€è¦ä½¿ç”¨åˆ°è¤‡é›œçš„åŠŸèƒ½</li>
<li>å°‡ commit è¦ç¯„å¯«æˆ Python å¥—ä»¶ç™¼ä½ˆ â†’ é©åˆéœ€è¦åŠ å…¥è¤‡é›œçš„é©—è­‰</li>
</ol>
<h3 id="_2">ç›´æ¥åœ¨è¨­å®šæª”è¨­å®š</h3>
<p>é€™ç¨®åšæ³•åªæ”¯æ´ toml æ ¼å¼çš„è¨­å®šæª” ï¼ˆi.e., <code>pyproject.toml</code>, <code>.cz.toml</code>ï¼‰</p>
<p>é¦–å…ˆå¿…é ˆå…ˆå°‡ name æŒ‡å®šåˆ° <code>cz_customize</code> é€™å¥— commit è¦ç¯„</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.commitizen]</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"cz_customize"</span>
</code></pre></div>
<p>å†ä¾†è¦è¨­å®šä¸‹é¢çš„æ¬„ä½<br/>
å…¶ä¸­æœ€é‡è¦çš„åªæœ‰ <code>message_template</code>ï¼ˆæ”¯æ´<a href="https://jinja.palletsprojects.com/en/2.11.x/">Jinja</a>ï¼‰<br/>
ä»¥ <code>"{{change_type}}:{% if show_message %} {{message}}{% endif %}"</code> é€™å€‹ä¾‹å­ä¾†èªª<br/>
éœ€è¦ <code>change_type</code>, <code>show_message</code>, <code>message</code> ä¸‰å€‹è®Šæ•¸ä¾†ç”¢ç”Ÿ commit message</p>
<div class="highlight"><pre><span></span><code><span class="k">[tool.commitizen.customize]</span>
<span class="n">message_template</span> <span class="o">=</span> <span class="s">"{{change_type}}:{% if show_message %} {{message}}{% endif %}"</span>
<span class="n">example</span> <span class="o">=</span> <span class="s">"feature: this feature enable customize through config file"</span>
<span class="n">schema</span> <span class="o">=</span> <span class="s">"&lt;type&gt;: &lt;body&gt;"</span>
<span class="n">bump_pattern</span> <span class="o">=</span> <span class="s">"^(break|new|fix|hotfix)"</span>
<span class="n">bump_map</span> <span class="o">=</span> <span class="p">{</span><span class="s">"break"</span> <span class="o">=</span> <span class="s">"MAJOR"</span><span class="p">,</span> <span class="s">"new"</span> <span class="o">=</span> <span class="s">"MINOR"</span><span class="p">,</span> <span class="s">"fix"</span> <span class="o">=</span> <span class="s">"PATCH"</span><span class="p">,</span> <span class="s">"hotfix"</span> <span class="o">=</span> <span class="s">"PATCH"</span><span class="p">}</span>
<span class="n">info_path</span> <span class="o">=</span> <span class="s">"cz_customize_info.txt"</span>
<span class="n">info</span> <span class="o">=</span> <span class="s">"""</span>
<span class="s">This is customized info</span>
<span class="s">"""</span>
</code></pre></div>
<p>è®Šæ•¸è¦åœ¨ <code>[[tool.commitizen.customize.questions]]</code> çš„å€æ®µä½œå®šç¾©<br/>
é€™è£¡ä½¿ç”¨åˆ°çš„æ˜¯å¥—ä»¶ <a href="https://github.com/tmbo/questionary">questionary</a></p>
<ul>
<li><code>name</code>ï¼š å¿…é ˆè·Ÿå‰é¢ <code>message_template</code> å®šç¾©çš„ä¸€æ¨¡ä¸€æ¨£ï¼Œè€Œä¸”è£¡é¢ç”¨åˆ°çš„è®Šæ•¸éƒ½è¦æœ‰å°æ‡‰çš„å•é¡Œèƒ½å–å¾—å€¼</li>
<li><code>message</code>ï¼š é¡¯ç¤ºçµ¦ä½¿ç”¨è€…çš„å•é¡Œ</li>
<li><code>type</code>ï¼š <a href="https://github.com/tmbo/questionary">questionary</a> ä¸­çš„å•é¡Œå‹æ…‹</li>
<li>å…¶ä»–æ¬„ä½ (e.g., <code>choice</code>) å‰‡æ˜¯é  <code>type</code> ä¾†æ±ºå®šæ˜¯å¦éœ€è¦</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">[[tool.commitizen.customize.questions]]</span>
<span class="n">type</span> <span class="o">=</span> <span class="s">"list"</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"change_type"</span>
<span class="n">choices</span> <span class="o">=</span> <span class="k">["feature", "bug fix"]</span>
<span class="n">message</span> <span class="o">=</span> <span class="s">"Select the type of change you are committing"</span>

<span class="k">[[tool.commitizen.customize.questions]]</span>
<span class="n">type</span> <span class="o">=</span> <span class="s">"input"</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"message"</span>
<span class="n">message</span> <span class="o">=</span> <span class="s">"Body."</span>

<span class="k">[[tool.commitizen.customize.questions]]</span>
<span class="n">type</span> <span class="o">=</span> <span class="s">"confirm"</span>
<span class="n">name</span> <span class="o">=</span> <span class="s">"show_message"</span>
<span class="n">message</span> <span class="o">=</span> <span class="s">"Do you want to add body message in commit?"</span>
</code></pre></div>
<p>è¨­å®šå®Œä¹‹å¾Œï¼Œå†ä½¿ç”¨ <code>cz commit</code> å°±å¯ä»¥çœ‹åˆ°å®¢è£½åŒ–éå¾Œçš„å•é¡Œäº†<br/>
<img alt="customize" src="/images/posts-image/2020-02-22-python-table-manner-series/customize.jpg"/></p>
<h3 id="commit-python">å°‡å®¢è£½åŒ–çš„ commit è¦ç¯„å¯«æˆ Python å¥—ä»¶ç™¼ä½ˆ</h3>
<p>é€™å€‹åšæ³•æ¯”è¼ƒè¤‡é›œï¼Œä¹Ÿæ¯”è¼ƒä¸å¸¸æœƒç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘åªæœƒæ¦‚ç•¥åœ°è¬›<br/>
ï¼ˆRead More ğŸ‘‰ <a href="https://commitizen-tools.github.io/commitizen/customization/">Customization</a>ï¼‰</p>
<p>æˆ‘å·²ç¶“å…ˆå°‡å¥—ä»¶çš„æ¶æ§‹é©Ÿå¯«æˆä¸€å€‹ <a href="https://cookiecutter.readthedocs.io/en/1.7.0/">cookiecutter</a> ç¯„æœ¬<br/>
é€éä»¥ä¸‹æŒ‡ä»¤ï¼Œå¯ä»¥é€²å…¥ cookiecutter çš„äº’å‹•å¼ä»‹é¢ï¼Œä¸¦åˆå§‹åŒ–å°ˆæ¡ˆ</p>
<div class="highlight"><pre><span></span><code>cookiecutter gh:Lee-W/commitizen_cz_template
</code></pre></div>
<p>æœ€ä¸»è¦éœ€è¦å¯¦ä½œçš„å‡½å¼æœ‰ <code>questions</code>, <code>message</code><br/>
å¯¦ä½œå®Œæˆå¾Œï¼Œå¿…é ˆè¦åœ¨è¦ä½¿ç”¨é€™å€‹ commit è¦ç¯„çš„ç’°å¢ƒå®‰è£é€™å€‹å¥—ä»¶<br/>
å®‰è£ä¹‹å¾Œæœƒåœ¨ <code>cz ls</code> çœ‹åˆ°é€™å€‹æ–°çš„ commit è¦ç¯„<br/>
åœ¨è¨­å®šæª”ä¸­è¨­å®š <code>name</code> æˆ–åœ¨æŒ‡ä»¤åˆ—åŠ ä¸Šåƒæ•¸ <code>-n name</code> (e.g., <code>cz -n cz_test commit</code>) å°±å¯ä»¥é–‹å§‹ä½¿ç”¨</p>
<h2 id="changelog">è‡ªå‹•ç”¢ç”Ÿæ›´æ–°æ—¥èªŒï¼ˆChangelogï¼‰</h2>
<p>commitizen å¯ä»¥é€ééå¾€çš„ commit message ç”¢ç”Ÿ <a href="https://keepachangelog.com/en/1.1.0/">keep a changelog</a> æ ¼å¼çš„æ›´æ–°æ—¥èªŒ</p>
<p>é€éä»¥ä¸‹æŒ‡ä»¤ï¼Œå°±èƒ½å¾æœ€èˆŠåˆ°æœ€æ–°çš„ commit message ç”¢ç”Ÿæ›´æ–°æ—¥èªŒï¼ˆé è¨­æ˜¯ <code>CHANGELOG.md</code>ï¼‰</p>
<div class="highlight"><pre><span></span><code>cz changelog
</code></pre></div>
<p>å¦‚æœå·²ç¶“æœ‰ç¾æˆçš„ <code>CHANGELOG.md</code>ï¼Œ å‰‡å¯ä»¥ä½¿ç”¨ <code>cz changelog --incremental</code> æŒ‡ä»¤</p>
<p>commitizen æœƒè©¦è‘—æ‰¾å‡ºæ–‡ä»¶ä¸­æœ€æ–°é‡‹å‡ºç‰ˆæœ¬ (e.g., <code>1.0.5</code>) çš„ä½ç½®ï¼Œå°‡æœ€æ–°é‡‹å‡ºç‰ˆæœ¬ä»¥å¾Œçš„ commit åŠ å…¥åˆ°æ›´æ–°æ—¥èªŒçš„æœ€é ‚ç«¯</p>
<p>ä¾‹å¦‚ç›®å‰æœ‰ä¸€å€‹å°ˆæ¡ˆï¼Œæœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 1.0.5ï¼Œä¹‹å¾Œæœ‰ 2 å€‹ commit</p>
<ul>
<li>feat: cool new features</li>
<li>ci: update jenkins file</li>
</ul>
<p>åŸæœ¬çš„æ›´æ–°æ—¥èªŒ</p>
<div class="highlight"><pre><span></span><code><span class="err">## 1.0.5</span>
<span class="err">### Feat</span>
<span class="err">- old features</span>
</code></pre></div>
<p>å‰‡ commitizen åœ¨é‡‹å‡º 1.1.0 æ™‚ï¼Œå°±æœƒç”¢ç”Ÿå¦‚ä¸‹çš„æ›´æ–°æ—¥èªŒ</p>
<div class="highlight"><pre><span></span><code><span class="o">##</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="p">(</span><span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">19</span><span class="p">)</span>

<span class="o">###</span> <span class="n">Feat</span>

<span class="o">-</span> <span class="k">new</span> <span class="n">cool</span> <span class="k">new</span> <span class="n">features</span>

<span class="o">##</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span>
<span class="o">###</span> <span class="n">Feat</span>
<span class="o">-</span> <span class="k">some</span> <span class="k">old</span> <span class="n">features</span>
</code></pre></div>
<p>å› ç‚ºç”¢ç”Ÿæ›´æ–°æ—¥èªŒï¼Œé€šå¸¸é©åˆåœ¨å‡ç‰ˆå¾ŒåŸ·è¡Œ<br/>
åœ¨ <code>cz bump</code> åŠ ä¸Š <code>--changelog</code> åƒæ•¸å°±å¯ä»¥æå‡ç‰ˆæœ¬çš„åŒæ™‚ï¼Œç”¢ç”Ÿæ›´æ–°æ—¥èªŒ</p>
<h2 id="commitizen_3">å…¶ä»– commitizen æŒ‡ä»¤å’Œå¸¸ç”¨åƒæ•¸</h2>
<ul>
<li><code>cz bump</code>ï¼š æå‡ç‰ˆæœ¬è™Ÿ<ul>
<li><code>--dry-run</code>ï¼š å°‡æå‡ç‰ˆæœ¬è™Ÿçš„è¨Šæ¯è¼¸å‡ºåˆ°çµ‚ç«¯æ©Ÿï¼Œä¸æœƒå¯¦éš›ç”¢ç”Ÿ tag å’Œæ”¹è®Šæª”æ¡ˆ</li>
<li><code>--increment {MAJOR,MINOR,PATCH}</code>ï¼š æå‡ç‰¹å®šç‰ˆæœ¬è™Ÿ</li>
</ul>
</li>
<li><code>cz changelog</code>: ç”¢ç”Ÿæ›´æ–°æ—¥èªŒ<ul>
<li><code>--dry-run</code>: å°‡ç”¢ç”Ÿçš„æ›´æ–°æ—¥èªŒæ›¸è™•åˆ°çµ‚ç«¯æ©Ÿï¼Œä¸ç”¢ç”Ÿæˆ–æ›´æ–° <code>CHANGELOG.md</code></li>
</ul>
</li>
<li><code>cz -n NAME [command]</code>ï¼š ä½¿ç”¨ä¸åŒçš„ commit è¦å‰‡ ï¼ˆe.g., <code>cz -n cz_jira commit</code>ï¼‰</li>
<li><code>cz version</code>ï¼š é¡¯ç¤ºç‰ˆæœ¬<ul>
<li><code>-p</code>ï¼ˆ<code>--project</code>ï¼‰ï¼š é¡¯ç¤ºå°ˆæ¡ˆç‰ˆæœ¬</li>
<li><code>-c</code>ï¼ˆ<code>--commitizen</code>ï¼‰ï¼š é¡¯ç¤º commitizen ç‰ˆæœ¬ï¼ˆé è¨­ï¼‰</li>
</ul>
</li>
</ul>
<h2 id="commitizen_4">é—œæ–¼ commitizen çš„é›œè«‡</h2>
<p>æˆ‘åœ¨ Taipei.py ç¬¬ä¸€æ¬¡è©¦è¬› Python Table Manners æ™‚<br/>
æœ‰ä¸€é å°±æåˆ°äº†ï¼Œé›–ç„¶ Python ä¹Ÿæœ‰ commitizen é€™å€‹å·¥å…·ï¼Œä½†é‚„ä¸å¤ªæˆç†Ÿ</p>
<p><img alt="commitizen is not mature" src="/images/posts-image/2020-02-22-python-table-manner-series/not-mature-1.jpg"/></p>
<p>æ²’æƒ³åˆ°åœ¨ PyCon CA çš„å‰ä¸€å€‹ç¦®æ‹œæˆ‘èªçœŸæ¸¬è©¦æ™‚<br/>
æ‰ç™¼ç¾å…¶å¯¦ commitizen å·²ç¶“å¾ˆå¤ ç”¨äº†ï¼Œè©²æœ‰çš„åŠŸèƒ½éƒ½æœ‰<br/>
åªæ˜¯æˆ‘å‰›å¥½éƒ½ç”¨ä¸€äº›å¥‡æ€ªçš„æ¸¬è©¦æ–¹å¼ï¼Œæ¸¬åˆ°ä¸€äº› edge case<br/>
é€™æ™‚å°±è¦ºå¾—ä¿¡å¥‰ Python ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰çš„æˆ‘ï¼Œå¥½åƒæ‡‰è©²å¥½å¥½çš„ä»‹ç´¹ Python çš„å·¥å…·<br/>
è€Œä¸æ˜¯ JavaScript çš„ <a href="https://github.com/commitizen">commitizen</a></p>
<p><img alt="i am the one who's not mature" src="/images/posts-image/2020-02-22-python-table-manner-series/not-mature-2.jpg"/></p>
<p>æ–¼æ˜¯æˆ‘å°±åœ¨ PyCon CA å‰ä¸€å€‹ç¦®æ‹œï¼Œé–‹å§‹è²¢ç»èµ· <a href="https://github.com/commitizen-tools/commitizen">commitizen</a><br/>
æŠŠæˆ‘é‡åˆ°çš„ issues éƒ½ä¿®äº†ï¼Œå°±é †ä¾¿æŠŠæŠ•å½±ç‰‡ä¸­ç›¸é—œçš„å…§å®¹ä¸€èµ·ç¿»æ–°äº†</p>
<p>è²¢ç»çš„éç¨‹ä¸­ä¹Ÿç™¼ç¾äº†å¾ˆå¤šé‚„èƒ½å†å¢åŠ çš„æ–°åŠŸèƒ½ï¼Œæ–¼æ˜¯å°±åœ¨ PyCon CA 2019 å¸¶äº†é€™å€‹å°ˆæ¡ˆå» Develop Sprint<br/>
ç¬¬ä¸€æ¬¡ç•¶ Sprint Leader é‚„è »å¥½ç©çš„ï¼Œä¹Ÿè »æœ‰æˆå°±æ„Ÿçš„<br/>
ï¼ˆRead More ğŸ‘‰ <a href="https://lee-w.github.io/posts/tech/2019/12/pycon-ca-2019/">PyCon CA 2019</a> ï¼‰</p>
<h3 id="java-script-commitizen">ç‚ºä»€éº¼ä¸ç”¨ Java Script çš„ commitizen å°±å¥½äº†</h3>
<p><del>å› ç‚ºæˆ‘æ˜¯ Python çš„é–‹ç™¼è€…å•Šï¼ï¼ï¼</del></p>
<p>èµ·åˆæˆ‘ä¹Ÿæ˜¯å¾ Java Script çš„ç‰ˆæœ¬é–‹å§‹ä½¿ç”¨ ï¼ˆç•¢ç«Ÿå…©å€‹å°ˆæ¡ˆ star çš„æ•¸é‡å·®äº†ä¸€ç™¾å€ï¼‰<br/>
åŸæœ¬æˆ‘å°±æœ‰å¯«å¥½ commit message çš„ç¿’æ…£<br/>
èƒ½æœ‰å·¥å…·å¹«åŠ©æˆ‘æŠŠé€™ä»¶äº‹åšå¾—æ›´å¥½ï¼Œç•¶ç„¶å°±å†å¥½ä¸éäº†</p>
<p>ç”¨äº†ä¸€æ®µæ™‚é–“å¾Œï¼Œæˆ‘é–‹å§‹è¦ºå¾—æˆ‘æ˜æ˜éƒ½å·²ç¶“èªçœŸå¯«å¥½ commit message äº†<br/>
ç‚ºä»€éº¼æ¯æ¬¡ Pull Request / Merge Request é‚„æ˜¯èŠ±é‚£éº¼å¤šæ™‚é–“å¯«<br/>
æ˜¯ä¸æ˜¯æœ‰ä»€éº¼å·¥å…·å¯ä»¥è‡ªå‹•é€éå¯«å¥½çš„ commit ç”¢ç”Ÿä¸€äº›è¨Šæ¯ï¼Ÿ<br/>
å†ä¾†å°±æ‰¾åˆ°äº† <a href="https://github.com/commitizen/cz-conventional-changelog">cz-conventional-changelog</a></p>
<p>ä½† <a href="https://github.com/commitizen/cz-conventional-changelog">cz-conventional-changelog</a> ä¸èƒ½è·Ÿ <a href="https://github.com/leonardoanalista/cz-customizable">cz-customizable</a> åŒæ™‚ä½¿ç”¨<br/>
ï¼ˆRead More ğŸ‘‰ <a href="https://github.com/commitizen/cz-cli/issues/434">Possible to use multiple adapters? #434</a>ï¼‰</p>
<p>è€Œä¸”é€™äº›æ“´å……å¸¸å¸¸è¦ç”¨åˆ° <code>package.json</code> ä¾†åšè¨­å®š<br/>
å¯æ˜¯æˆ‘å°±ä¸æ˜¯ Java Script çš„å°ˆæ¡ˆï¼Œå°±ä¸æƒ³åŠ å…¥é€™å€‹æª”æ¡ˆä¾†è¨­å®šå•Š ğŸ¤·â€â™‚ï¸<br/>
æ‰€ä»¥æ‰é–‹å§‹ä¾†æ‰¾æ˜¯ä¸æ˜¯æœ‰ Python ç‰ˆæœ¬çš„æ›¿ä»£æ–¹æ¡ˆ<br/>
ï¼ˆPython çš„ <a href="https://github.com/commitizen-tools/commitizen">commitizen</a> æ”¯æ´çš„ toml ï¼ˆ<code>.cz.toml</code>ï¼‰æ˜¯é€šç”¨çš„æ ¼å¼ï¼Œè£¡é¢ Python ç›¸é—œçš„å…§å®¹ï¼Œé©ç”¨æ–¼å„èªè¨€ï¼‰</p>
<h3 id="_3">æŒçºŒè²¢ç»</h3>
<p>æ•´é«”ä¾†èªªï¼Œ commitizen æ˜¯ä¸€å€‹è®“æˆ‘è²¢ç»å¾—å¾ˆæœ‰æˆå°±æ„Ÿçš„å°ˆæ¡ˆ<br/>
æœ€ä¸»è¦çš„åŸå› ä¹‹ä¸€å°±æ˜¯é€™æ˜¯æˆ‘æƒ³ç”¨çš„å·¥å…·</p>
<p>è²¢ç»çš„éç¨‹ï¼Œä¹Ÿæœƒå¾ˆå¿«å°±æ”¶åˆ°ä½œè€… <a href="https://github.com/Woile">Woile</a> çš„å›é¥‹<br/>
å®ƒä¹Ÿæœƒç”¨å¾ˆå‹å–„çš„æ–‡å­—ï¼Œè®“æˆ‘è¦ºå¾—è²¢ç» commitizen æ‰€èŠ±çš„æ™‚é–“ï¼Œæ˜¯æœ‰å—åˆ°é‡è¦–çš„</p>
<p><img alt="friendly-response-1" src="/images/posts-image/2020-02-22-python-table-manner-series/friendly-response-1.jpg"/></p>
<p><img alt="friendly-response-2" src="/images/posts-image/2020-02-22-python-table-manner-series/friendly-response-2.jpg"/></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ commitizen æ¸¬è©¦è¦†è“‹ç‡å¾ˆé«˜ï¼Œæ¯”è¼ƒä¸éœ€è¦æ€•æ”¹éŒ¯äº†æœƒä¸æœƒå¼„å£èˆŠæœ‰çš„åŠŸèƒ½<br/>
ç¨‹å¼ç¢¼é¢¨æ ¼ä¸Šï¼Œé€é black è·Ÿ flake8 ä¾†è¦ç¯„ï¼Œè®“ç¨‹å¼ç¢¼é–±è®€èµ·ä¾†è¼•é¬†å¾ˆå¤š<br/>
åœ¨è²¢ç»çš„éç¨‹ä¸­ï¼Œä¹Ÿå­¸åˆ°äº†ä¸å°‘å¾ˆå¯¦ç”¨çš„å·¥å…·ï¼ˆe.g., pre-commit, cookiecutterï¼‰</p>
<p>æ‰€ä»¥æˆ‘èªª<strong>ä¸€èµ·ä¾†è²¢ç» <a href="https://github.com/commitizen-tools/commitizen">commitizen</a> å§ ğŸ’ª</strong><br/>
æˆ‘æœ€è¿‘é–‹å§‹æ¯”è¼ƒå¿™ï¼Œæœ‰ä¸€æ®µæ™‚é–“æ²’è¾¦æ³•ç©æ¥µåœ°é€ Pull Request äº† ğŸ˜¢<br/>
ä½†é‚„æ˜¯å¸Œæœ›æ–°åŠŸèƒ½èƒ½åœ¨ commitizen ä¸Šå‡ºç¾ ğŸ‰</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://medium.com/@klauskpm/how-to-create-good-commit-messages-67943d30cced">how to create a good commit message</a></li>
<li><a href="https://www.freecodecamp.org/news/writing-good-commit-messages-a-practical-guide/">How to Write Good Commit Messages: A Practical Git Guide</a></li>
<li><a href="https://www.conventionalcommits.org/en/v1.0.0/">Conventional Commit</a></li>
<li><a href="https://semver.org/">Semantic Version</a></li>
</ul>


             


<div class="applause_button">
    <applause-button url=https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen> </applause-button>
</div>

 
                <p id="post-share-links">
    Share on:
      <a href="https://twitter.com/intent/tweet?text=Python%20Table%20Manners%20-%20Commitizen%3A%20%E8%A6%8F%E6%A0%BC%E5%8C%96%20commit%20message&url=https%3A//lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen&hashtags=python,git" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
 â„       <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
 â„       <a href="mailto:?subject=Python%20Table%20Manners%20-%20Commitizen%3A%20%E8%A6%8F%E6%A0%BC%E5%8C%96%20commit%20message&amp;body=https%3A//lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>

            
            







<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">Do you like this article? What do your tink about it? Leave you comment below </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count collapsed"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   data-disqus-identifier="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen"
                   href="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">
                        <div id="disqus_thread"></div>
                        <script>
    var disqus_shortname = 'lee-w-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

    var disqus_identifier = 'https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen';
    var disqus_url = 'https://lee-w.github.io/posts/tech/2020/03/python-table-manners-commitizen';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">Â« <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-pre-commit" title="Previous: Python Table Manners - pre-commit: git commit å‰åšå®Œæª¢æŸ¥">Python Table Manners - pre-commit: git commit å‰åšå®Œæª¢æŸ¥</a></li>
                <li class="next-article"><a href="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-security" title="Next: Python Table Manners - å®‰å…¨æ€§æª¢æŸ¥">Python Table Manners - å®‰å…¨æ€§æª¢æŸ¥</a> Â»</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-03-01T00:45:00+08:00">2020/03/01 - Sun</time>
<h4>Last Updated</h4>
<time datetime="2020-07-19T17:17:00+08:00">2020/07/19 - Sun</time>

        <h4>Python Table Manners</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-series" title="Python Table Manners ç³»åˆ—">Part 1: Python Table Manners ç³»åˆ—</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-dependency-mangement" title="Python Table Manners - è™›æ“¬ç’°å¢ƒå’Œå¥—ä»¶ç®¡ç†">Part 2: Python Table Manners - è™›æ“¬ç’°å¢ƒå’Œå¥—ä»¶ç®¡ç†</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-test-1" title="Python Table Manners - æ¸¬è©¦ (ä¸€)">Part 3: Python Table Manners - æ¸¬è©¦ (ä¸€)</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-test-2" title="Python Table Manners - æ¸¬è©¦ (äºŒ)">Part 4: Python Table Manners - æ¸¬è©¦ (äºŒ)</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-coding-style" title="Python Table Manners - ç¨‹å¼ç¢¼é¢¨æ ¼">Part 5: Python Table Manners - ç¨‹å¼ç¢¼é¢¨æ ¼</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-manage-trival-tasks" title="Python Table Manners - ç®¡ç†ç¹ç‘£ä»»å‹™">Part 6: Python Table Manners - ç®¡ç†ç¹ç‘£ä»»å‹™</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/02/python-table-manners-pre-commit" title="Python Table Manners - pre-commit: git commit å‰åšå®Œæª¢æŸ¥">Part 7: Python Table Manners - pre-commit: git commit å‰åšå®Œæª¢æŸ¥</a>
            </li>
            <li  class="active-part">
            Part 8: Python Table Manners - Commitizen: è¦æ ¼åŒ– commit message
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/03/python-table-manners-security" title="Python Table Manners - å®‰å…¨æ€§æª¢æŸ¥">Part 9: Python Table Manners - å®‰å…¨æ€§æª¢æŸ¥</a>
            </li>
            <li >
            <a href="https://lee-w.github.io/posts/tech/2020/04/python-table-manners-documentation" title="Python Table Manners - æ–‡ä»¶">Part 10: Python Table Manners - æ–‡ä»¶</a>
            </li>
    </ul>
                <h4>Read Time</h4>
                 4 min
            <h4>Category</h4>
            <a class="category-link" href="https://lee-w.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://lee-w.github.io/tags.html#git-ref">Git
                    <span class="superscript">6</span>
</a></li>
                <li><a href="https://lee-w.github.io/tags.html#python-ref">Python
                    <span class="superscript">26</span>
</a></li>
            </ul>
<h4>Keep In Touch</h4>
<div id="sidebar-social-link">
    <a href="https://tw.linkedin.com/in/clleew" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://github.com/Lee-W" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://gitlab.com/Lee-W" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitLab" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#30353e"/><path fill="#e24329" d="M84 215l43-133c2-7 12-7 14 0l115 353L371 82c2-7 12-7 14 0l43 133"/><path fill="#fc6d26" d="M256 435L84 215h100.4zm71.7-220H428L256 435l71.6-220z"/><path fill="#fca326" d="M84 215l-22 67c-2 6 0 13 6 16l188 137zm344 0l22 67c2 6 0 13-6 16L256 435z"/></svg>
    </a>
    <a href="https://twitter.com/clleew" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://lee-w.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
</a>
<br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="https://lee-w.github.io/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>