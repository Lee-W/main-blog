
<!DOCTYPE html>

<html lang="zh-tw">
<head>
<meta charset="utf-8"/>
<meta charset="utf-8" content="text/html" http-equiv="Content-Type">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<title>Python Table Manners - 持續整合/部署 </title>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="origin" name="referrer"/>
<meta content="Pelican" name="generator"/>
<link href="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" rel="canonical"/>
<!-- Feed -->
<link href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="alternate" title="Those aren't written down are meant to be forgotten Full Atom Feed" type="application/atom+xml"/>
<!-- TODO: combine -->
<link href="https://blog.wei-lee.me/theme/css/style.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pygments.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/pagefind-ui-custom.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/code-copy.css" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="/pagefind/pagefind-ui.css" rel="stylesheet"/>
<!-- Custom fonts -->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,300" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<script>
    var siteUrl = 'https://blog.wei-lee.me';
  </script>
<script>
    var localTheme = localStorage.getItem('attila_theme');
    switch (localTheme) {
      case 'dark':
        document.documentElement.classList.add('theme-dark');
        break;
      case 'light':
        document.documentElement.classList.add('theme-light');
        break;
      default:
        break;
    }
  </script>
<meta content="這篇好像真的拖得很久... 原本預定的發表時間還是 2020-03-04 呢 ...... 總之，剛好年假就趁機補一下" name="description"/>
<meta content="Wei Lee" name="author"/>
<meta content="Python" name="tags"/>
<meta content="CI/CD" name="tags"/>
<!-- Open Graph -->
<meta content="Those aren't written down are meant to be forgotten" prefix="og: http://ogp.me/ns#" property="og:site_name">
<meta content="Python Table Manners - 持續整合/部署 " prefix="og: http://ogp.me/ns#" property="og:title">
<meta content="這篇好像真的拖得很久... 原本預定的發表時間還是 2020-03-04 呢 ...... 總之，剛好年假就趁機補一下" prefix="og: http://ogp.me/ns#" property="og:description">
<meta content="zh-tw" prefix="og: http://ogp.me/ns#" property="og:locale">
<meta content="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" prefix="og: http://ogp.me/ns#" property="og:url"/>
<meta content="article" prefix="og: http://ogp.me/ns#" property="og:type"/>
<meta content="2020-12-31 17:53:00+08:00" prefix="og: http://ogp.me/ns#" property="article:published_time"/>
<meta content="" prefix="og: http://ogp.me/ns#" property="article:modified_time"/>
<meta content="https://blog.wei-lee.me/author/wei-lee.html" prefix="og: http://ogp.me/ns#" property="article:author"/>
<meta content="Tech" prefix="og: http://ogp.me/ns#" property="article:section">
<meta content="Python" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="CI/CD" prefix="og: http://ogp.me/ns#" property="article:tag"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" prefix="og: http://ogp.me/ns#" property="og:image"/>
<!-- Twitter Card -->
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@clleew" name="twitter:site"/>
<meta content="Python Table Manners - 持續整合/部署 " name="twitter:title"/>
<meta content="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" name="twitter:url"/>
<meta content="https://blog.wei-lee.me//images/cover.jpeg" name="twitter:image:src"/>
<meta content="這篇好像真的拖得很久... 原本預定的發表時間還是 2020-03-04 呢 ...... 總之，剛好年假就趁機補一下" name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Python Table Manners - 持續整合/部署",
  "headline": "Python Table Manners - 持續整合/部署",
  "datePublished": "2020-12-31 17:53:00+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Wei Lee",
    "url": "https://blog.wei-lee.me/author/wei-lee.html"
  },
  "image": "https://blog.wei-lee.me//images/cover.jpeg",
  "url": "https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration",
  "description": "這篇好像真的拖得很久... 原本預定的發表時間還是 2020-03-04 呢 ...... 總之，剛好年假就趁機補一下"
}
</script>
</meta></meta></meta></meta></meta></link></meta><link href="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Those aren't written down are meant to be forgotten", "item": "https://blog.wei-lee.me"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://blog.wei-lee.me/posts"}, {"@type": "ListItem", "position": 3, "name": "Tech", "item": "https://blog.wei-lee.me/posts/tech"}, {"@type": "ListItem", "position": 4, "name": "2020", "item": "https://blog.wei-lee.me/posts/tech/2020"}, {"@type": "ListItem", "position": 5, "name": "12", "item": "https://blog.wei-lee.me/posts/tech/2020/12"}, {"@type": "ListItem", "position": 6, "name": "Python table manner continuous integration", "item": "https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Wei Lee"}, "publisher": {"@type": "Organization", "name": "Those aren't written down are meant to be forgotten"}, "headline": "Python Table Manners - 持續整合/部署", "about": "Tech", "datePublished": "2020-12-31 17:53"}</script></head>
<body class="category-template">
<div class="nav-header">
<nav aria-label="Main" class="nav-wrapper">
<ul>
<li class="nav-Home" role="presentation"><a href="/"><span>Home</span></a></li>
<li class="nav-About Me" role="presentation"><a href="/pages/about-me.html"><span>About Me</span></a></li>
<li class="nav-🗄️ Archives" role="presentation"><a href="/archives.html"><span>🗄️ Archives</span></a></li>
<li class="nav-🔍 Search" role="presentation"><a href="/pages/search.html"><span>🔍 Search</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/book.html"><span>Book</span></a></li>
<li role="presentation"><a href="https://blog.wei-lee.me/category/gossiping.html"><span>Gossiping</span></a></li>
<li class="nav-tech active" role="presentation"><a href="https://blog.wei-lee.me/category/tech.html"><span>Tech</span></a></li>
</ul>
<ul class="nav-meta">
<li class="nav-linkedin"><a aria-label="Linkedin" href="https://tw.linkedin.com/in/clleew" target="_blank"><i aria-hidden="true" class="icon icon-linkedin"></i>
<span>Linkedin</span>
</a></li>
<li class="nav-github"><a aria-label="Github" href="https://github.com/Lee-W" target="_blank"><i aria-hidden="true" class="icon icon-github"></i>
<span>GitHub</span>
</a></li>
<li class="nav-twitter"><a aria-label="Twitter" href="https://twitter.com/clleew" target="_blank"><i aria-hidden="true" class="icon icon-twitter"></i>
<span>Twitter</span>
</a></li>
<li class="nav-search" style="display: none;">
<a title="Search">
<i aria-hidden="true" class="icon icon-search"></i>
<span>Search</span>
</a>
</li>
</ul> </nav>
<div class="nav-wrapper-control">
<div class="inner">
<a class="nav-menu" role="button"><i aria-hidden="true" class="icon icon-menu"></i>Menu</a>
<a class="nav-search" role="button" style="display: none;" title="Search"><i aria-hidden="true" class="icon icon-search"></i></a>
</div>
</div>
</div>
<div aria-label="Close" class="nav-close" role="button"></div>
<section class="page-wrapper" id="wrapper">
<!-- Progressbar -->
<div class="progress-container">
<span class="progress-bar"></span>
</div>
<!-- Page Header -->
<!-- Set your background image for this header on the line below. -->
<header class="post-header has-cover">
<div class="inner">
<span class="post-info">
<span class="post-type">Article</span>
<span class="post-count">Tech</span>
</span>
<h1 class="post-title">
            Python Table Manners - 持續整合/部署
        </h1>
<div class="post-meta">
<div class="post-meta-avatars">
<figure class="post-meta-avatar avatar">
<a class="author-avatar" href="https://blog.wei-lee.me/author/wei-lee.html">
<img alt="Wei Lee" class="author-profile-image" src="https://blog.wei-lee.me//images/avatar.jpeg"/>
</a>
</figure>
</div>
<h4 class="post-meta-author">
            Wei Lee
          </h4>
<time datetime="2020/12/31 - Thu">2020/12/31 - Thu</time>
          • 2 min read
        </div>
<div class="post-cover cover">
<img alt="Category Tech" src="https://blog.wei-lee.me//images/cover.jpeg"/>
</div>
</div>
</header>
<!-- Post content -->
<main class="content" data-pagefind-body="" role="main">
<article class="post">
<div class="inner">
<section class="post-content">
<p>這篇好像真的拖得很久...<br/>
原本預定的發表時間還是 2020-03-04 呢 ......<br/>
總之，剛好年假就趁機補一下</p>
<!--more-->
<p>在使用 <a href="https://github.com/actions">GitHub Actions</a> 前，這篇原本要寫 <a href="https://github.com/drone/drone">drone</a> 的使用方式<br/>
不過既然是放在 GitHub 上的開源專案，好像沒理由不用 GitHub Actions<br/>
（但其實只是我當時想玩玩沒碰過的新東西）</p>
<p>同樣會延續之前舉例的專案 <a href="https://github.com/pycontw/pycontw-postevent-report-generator">pycontw-postevent-report-generator</a> (以下會簡稱 rg-cli）來講為什麼要用、如何使用 GitHub Actions</p>
<div class="toc">
<ul>
<li><a href="#_1">想解決的問題</a></li>
<li><a href="#rg-cli">如何套用到 rg-cli ?</a></li>
<li><a href="#github-actions">GitHub Actions 實例</a><ul>
<li><a href="#python-check">Python Check</a></li>
<li><a href="#merge-into-master">Merge into master</a></li>
<li><a href="#python-publish">Python Publish</a></li>
</ul>
</li>
<li><a href="#reference">Reference</a></li>
</ul>
</div>
<h2 id="_1">想解決的問題</h2>
<p>先從這樣的工具能解決什麼問題開始聊起</p>
<p>假設你是某開源專案的維護者，設定好專案程式碼風格檢查跟自動化測試<br/>
有個貢獻者提交了一個 pull request 給你審核<br/>
審核完準備要 merge 的時候，才發現他的 pull request 測試跑不過<br/>
這可能就會浪費你前面大部分審核的時間</p>
<p>如果能在貢獻者 push 完，自動就做檢查<br/>
確認已經通過基本的檢查，才讓人工介入（維護者審核）<br/>
那就能省下你很多時間</p>
<p><img alt="pass" src="/images/posts-image/2020-02-22-python-table-manner-series/pass.jpg"/></p>
<p>當這個 pull request 通過所有測試和人工審核，merge 回 master 分支之後<br/>
接下來就要讓服務上線或是發佈套件，而這些步驟通常都很重複性且繁瑣<br/>
如果自動化這些步驟就能省下人工成本，並減少人為失誤</p>
<h2 id="rg-cli">如何套用到 rg-cli ?</h2>
<p>簡單先將想做的事分為三個步驟<br/>
前一步通過才可以執行下一步</p>
<ol>
<li>當貢獻者提交 pull request 後，自動執行風格檢查、跑測試</li>
<li>當 pull request 被維護者 merge 回 master 分支之後，根據 git commit 更新版本號並產生 git tag ，最後再將 git tag 推回 master 分支<br/>
  （如果不太知道這段在做什麼，可以參考 <a href="https://blog.wei-lee.me/posts/tech/2020/03/python-table-manners-commitizen">Commitizen: 規格化 commit message</a>)</li>
<li>當 master 分支偵測到新的版本號（git tag）產生後，自動將新的套件上傳到 <a href="https://pypi.org/project/pycontw-report-generator/">PyPI</a></li>
</ol>
<h2 id="github-actions">GitHub Actions 實例</h2>
<p>接下來看 <a href="https://github.com/pycontw/pycontw-postevent-report-generator/tree/3ff174384639c8d6f40c4cd16e59ceba950838e9/.github/workflows">pycontw-postevent-report-generator/.github/workflows/ @ 3ff174</a> 中的三個檔案，分別對應到前面所提的三個步驟</p>
<ol>
<li><a href="https://github.com/pycontw/pycontw-postevent-report-generator/blob/3ff174384639c8d6f40c4cd16e59ceba950838e9/.github/workflows/python-check.yaml">python-check.yaml</a></li>
<li><a href="https://github.com/pycontw/pycontw-postevent-report-generator/blob/3ff174384639c8d6f40c4cd16e59ceba950838e9/.github/workflows/merge-into-master.yaml">merge-into-master.yaml</a></li>
<li><a href="https://github.com/pycontw/pycontw-postevent-report-generator/blob/3ff174384639c8d6f40c4cd16e59ceba950838e9/.github/workflows/python-publish.yaml">python-publish.yaml</a></li>
</ol>
<h3 id="python-check">Python Check</h3>
<p>每個 GitHub Actions 的 workflow 都需要有一個名稱</p>
<div class="highlight"><pre><span></span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">check</span>
</pre></div>
<p>這會顯示在 <strong>Actions</strong> &gt; <strong>Workflows</strong> 中</p>
<p><img alt="workflow" src="/images/posts-image/2020-02-22-python-table-manner-series/workflow.jpg"/></p>
<p>接著要指定哪些事件發生時要執行這個 workflow<br/>
(See more 👉 <a href="https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows">Events that trigger workflows</a>)</p>
<div class="highlight"><pre><span></span><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">pull_request</span><span class="p p-Indicator">]</span>
</pre></div>
<p>再來則是要在哪執行、執行什麼</p>
<ul>
<li><code>jobs</code>： workflow 要執行的 job ，可以有超過一個 job。每個 job 都必須給它一個 job id (e.g., check)<ul>
<li><code>run-on</code>： 要跑在哪種機器上 （More option 👉<a href="https://docs.github.com/en/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on">jobs.<job_id>.runs-on</job_id></a>）</li>
<li><code>steps</code>:  要執行的 step<ul>
<li><code>name</code>: step 的名稱</li>
<li><code>use</code>: step 要使用哪個 action，可以用在 <a href="https://github.com/marketplace?type=actions">GitHub Marketplace · Actions</a> 找看看有沒有別人已經寫好的 action 不用重造輪子</li>
<li><code>with</code>: 輸入 actions 的參數</li>
<li><code>run</code>: 要執行的指令（<code>|</code> 是 yaml 的斷行）</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">check</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check out</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up Python</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v1</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">"3.7"</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">python -m pip install pipenv invoke</span>
<span class="w">          </span><span class="no">inv env.init-dev -w</span>
<span class="l l-Scalar l-Scalar-Plain">......</span>
</pre></div>
<p>當這個 workflow 被執行的時候，可以在 GitHub Actions 看到細節</p>
<p><img alt="step" src="/images/posts-image/2020-02-22-python-table-manner-series/job.jpg"/></p>
<h3 id="merge-into-master">Merge into master</h3>
<p>上個 workflow 只要偵測到任何 push 或 pull request 就會執行<br/>
而這個 workflow 則是在 master 分支有改動時執行<br/>
這時就可以在 <code>on</code> 的後面針對特定的事件做判斷</p>
<div class="highlight"><pre><span></span><span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span><span class="w">  </span><span class="c1"># another branch could be specified here</span>
</pre></div>
<p>除了 workflow 能偵測事件以外，也能依造不同的事件內容執行不同的 job<br/>
下面的狀況是只有「開頭不是 "bump:" 的 commit」 才執行 <code>bump-version</code></p>
<div class="highlight"><pre><span></span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bump-version</span><span class="p">:</span>
<span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="s">"!startsWith(github.event.head_commit.message,</span><span class="nv"> </span><span class="s">'bump:')"</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</pre></div>
<p>因為 commitizen 自動跳版本號的時候，會 push 一個 commit 回 master 分支<br/>
所以要給 GitHub Actions 適當的權限<br/>
那就需要設定密碼或 token 來做到<br/>
因為它們不適合被公開，所以要設定在 secret 裡面<br/>
設定 secret 的頁面可以從 <strong>Settings</strong> &gt; <strong>Secrets</strong> &gt; <strong>New repository secret</strong> (右上角) 找到</p>
<p><img alt="secret" src="/images/posts-image/2020-02-22-python-table-manner-series/secret.jpg"/></p>
<p>在 job 取出 secret 的方式則是如下使用 <code>${{ secrets.secret_id }}</code> 這樣的語法</p>
<div class="highlight"><pre><span></span><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check out</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="s">'${{</span><span class="nv"> </span><span class="s">secrets.PERSONAL_ACCESS_TOKEN</span><span class="nv"> </span><span class="s">}}'</span>
</pre></div>
<h3 id="python-publish">Python Publish</h3>
<p>跟 GitHub Actions 比較相關的內容，在上面兩個 workflow 都寫得差不多的<br/>
那這裡就來聊聊跟 PyPI 相關的</p>
<p>從去年七月起，PyPI 就有支援使用 API token 上傳<br/>
（See more 👉 <a href="https://pyfound.blogspot.com/2019/07/pypi-now-supports-uploading-via-api.html">PyPI now supports uploading via API token</a>）<br/>
所以建議使用 API token 而不是個人的 PyPI 帳號密碼<br/>
產生 PyPI token 的方式可以在上面的文章找到，我就不贅述<br/>
使用的方式則是把原本帳號的欄位改成 <code>__token__</code> （就是這個字串，不用代換成任何東西)<br/>
密碼改成 PyPI 給你的 token</p>
<p>在串 GitHub Actions 時，我踩到一個很有趣（？）的雷<br/>
假設你的取得的 token 是 <code>pypi-thisisrandomestringrepresentingyourapitoken</code><br/>
在 workflow 中用 <code>password: ${{ secrets.pypi_password }}</code> 取得 secret<br/>
那在 secret 就要設定 <code>"pypi-thisisrandomestringrepresentingyourapitoken"</code><br/>
而不是 <code>pypi-thisisrandomestringrepresentingyourapitoken</code><br/>
不過也許將 workflow 的內容改成 <code>password: "${{ secrets.pypi_password }}"</code> 也能解決<br/>
總之，要記得加 <code>""</code></p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://docs.github.com/en/free-pro-team@latest/actions">GitHub Actions</a></li>
<li><a href="https://hynek.me/articles/python-github-actions/">Python in GitHub Actions</a></li>
</ul>
</section>
<section class="post-footer">
<div class="post-share">
<span class="post-info-label">Share</span>
<a aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=Python Table Manners - 持續整合/部署 &amp;url=https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Twitter">
<i aria-hidden="true" class="icon icon-twitter"></i><span class="hidden">Twitter</span>
</a>
<a aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Facebook">
<i aria-hidden="true" class="icon icon-facebook"></i><span class="hidden">Facebook</span>
</a>
<a aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration&amp;title=Python Table Manners - 持續整合/部署" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;" title="LinkedIn">
<i aria-hidden="true" class="icon icon-linkedin"></i><span class="hidden">LinkedIn</span>
</a>
<a aria-label="Email" class="email" href="mailto:?subject=Python Table Manners - 持續整合/部署&amp;body=https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" title="Email">
<i aria-hidden="true" class="icon icon-mail"></i><span class="hidden">Email</span>
</a>
<div class="clear"></div>
</div>
<aside class="post-tags">
<a href="https://blog.wei-lee.me/tag/python.html">Python</a><a href="https://blog.wei-lee.me/tag/cicd.html">CI/CD</a> </aside>
<div class="clear"></div>
<div class="series">
<p>This post is part 11 of the "Python Table Manners" series:</p>
<ol class="parts">
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-series">Python Table Manners 系列</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-dependency-mangement">Python Table Manners - 虛擬環境和套件管理</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-test-1">Python Table Manners - 測試 (一)</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-test-2">Python Table Manners - 測試 (二)</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-coding-style">Python Table Manners - 程式碼風格</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-manage-trivial-tasks">Python Table Manners - 管理繁瑣任務</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/02/python-table-manners-pre-commit">Python Table Manners - pre-commit: git commit 前做完檢查</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/03/python-table-manners-commitizen">Python Table Manners - Commitizen: 規格化 commit message</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/03/python-table-manners-security">Python Table Manners - 安全性檢查</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2020/04/python-table-manners-documentation">Python Table Manners - 文件</a>
</li>
<li class="active">
<a href="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration">Python Table Manners - 持續整合/部署</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2021/01/python-table-manners-cookiecutter">Python Table Manners - Cookiecutter 專案模板</a>
</li>
<li>
<a href="https://blog.wei-lee.me/posts/tech/2021/01/python-table-manner-editor">Python Table Manners 番外 - 編輯器</a>
</li>
</ol>
</div>
</section>
<script type="text/javascript">var use_utterance = true;</script>
<section class="post-comments">
<script async="" crossorigin="anonymous" data-issue-term="https://blog.wei-lee.me/posts/tech/2020/12/python-table-manner-continuous-integration" data-label="blog-comment" data-repo="Lee-W/main-blog" data-theme="github-light" src="https://utteranc.es/client.js">
</script>
</section>
<aside class="post-nav">
<div class="clear"></div>
</aside>
</div>
</article>
</main>
<div class="nav-footer">
<nav aria-label="Footer" class="nav-wrapper">
<span class="nav-copy">Those aren't written down are meant to be forgotten © 2023
          <a class="nav-rss" href="https://blog.wei-lee.me/feeds/all.atom.xml" target="_blank" title="RSS"><i class="icon icon-rss"></i></a>
</span>
<span class="nav-credits">



          Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a> • Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a> •
          <a class="menu-item js-theme" data-dark="Dark theme" data-light="Light theme" data-system="System theme" href="#">
<span class="theme-icon"></span><span class="theme-text">System theme</span>
</a>
</span>
</nav>
</div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<!-- TODO: minify -->
<script src="https://blog.wei-lee.me/theme/js/jquery.fitvids.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/script.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/clipboard.min.js" type="text/javascript"></script>
<script src="https://blog.wei-lee.me/theme/js/copy-to-clipboard.js" type="text/javascript"></script>
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3J7XQ46QH5"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-3J7XQ46QH5', { 'anonymize_ip': true });
    </script>
<script src="/pagefind/pagefind-ui.js"></script>
<script>
      window.addEventListener('DOMContentLoaded', (event) => {
          new PagefindUI({
              element: "#search",
              showImages: false,
          });
      });
  </script>
<!-- 	The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in article.html, but it needs to be included down here, after jQuery has already loaded. -->
<script>
  $(document).ready(function () {
    var viewport = $(window);
    var post = $('.post-content');
    // Responsive videos with fitVids
    post.fitVids();

    // Reading progress bar on window top
    function readingProgress() {
      var postBottom = post.offset().top + post.height();
      var viewportHeight = viewport.height();
      var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
      $('.progress-bar').css('width', progress + '%');
      (progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
    }
    readingProgress();
    // Trigger reading progress
    viewport.on({
      'scroll': function() {
        readingProgress();
      },
      'resize': function() {
        readingProgress();
      },
      'orientationchange': function() {
        readingProgress();
      }
    });

  });
</script>
</body>
</html>