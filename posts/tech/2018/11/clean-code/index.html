<!DOCTYPE html>

<html lang="zh-tw">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" rel="stylesheet"/>
<link href="https://blog.wei-lee.me/theme/css/elegant.prod.9e9d5ce754.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="https://blog.wei-lee.me/theme/css/custom.css" media="screen" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link href="/pagefind/pagefind-ui.css" rel="stylesheet"/>
<meta content="Wei Lee" name="author">
<meta content="article" property="og:type">
<meta content="summary" name="twitter:card"/>
<meta content="Note, Software Engineering, Tech, " name="keywords">
<meta content="[Note] Clean Code " property="og:title">
<meta content="https://blog.wei-lee.me/posts/tech/2018/11/clean-code" property="og:url"/>
<meta content="既然都把 The Clean Coder 做完了 就順便把原本在 GitBook 的 The Clean Code 一起搬過來好了" property="og:description"/>
<meta content="Those aren't written down are meant to be forgotten" property="og:site_name"/>
<meta content="Wei Lee" property="og:article:author"/>
<meta content="2018-11-16T17:08:00+08:00" property="og:article:published_time"/>
<meta content="2020-10-08T16:12:00+08:00" property="og:article:modified_time"/>
<meta content="[Note] Clean Code " name="twitter:title"/>
<meta content="既然都把 The Clean Coder 做完了 就順便把原本在 GitBook 的 The Clean Code 一起搬過來好了" name="twitter:description"/>
<title>[Note] Clean Code  · Those aren't written down are meant to be forgotten
</title>
<link href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="alternate" title="Those aren't written down are meant to be forgotten - Full Atom Feed" type="application/atom+xml">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3J7XQ46QH5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3J7XQ46QH5');
</script>
</link></meta></meta></meta></meta><link href="https://blog.wei-lee.me/posts/tech/2018/11/clean-code" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Those aren't written down are meant to be forgotten", "item": "https://blog.wei-lee.me"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://blog.wei-lee.me/posts"}, {"@type": "ListItem", "position": 3, "name": "Tech", "item": "https://blog.wei-lee.me/posts/tech"}, {"@type": "ListItem", "position": 4, "name": "2018", "item": "https://blog.wei-lee.me/posts/tech/2018"}, {"@type": "ListItem", "position": 5, "name": "11", "item": "https://blog.wei-lee.me/posts/tech/2018/11"}, {"@type": "ListItem", "position": 6, "name": "Clean code", "item": "https://blog.wei-lee.me/posts/tech/2018/11/clean-code"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://blog.wei-lee.me/posts/tech/2018/11/clean-code/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Wei Lee"}, "publisher": {"@type": "Organization", "name": "Those aren't written down are meant to be forgotten"}, "headline": "[Note] Clean Code", "about": "Tech", "datePublished": "2018-11-16 17:08"}</script></head>
<body>
<div id="content">
<div class="navbar navbar-static-top">
<div class="navbar-inner">
<div class="container-fluid">
<a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</a>
<a class="brand" href="https://blog.wei-lee.me/"><span class="site-name">Those aren't written down are meant to be forgotten</span></a>
<div class="nav-collapse collapse">
<ul class="nav pull-right top-menu">
<li>
<a href="https://blog.wei-lee.me">Home</a>
</li>
<li><a href="https://blog.wei-lee.me/pages/about-me.html">About Me</a></li>
<li><a href="https://blog.wei-lee.me/categories.html">Categories</a></li>
<li><a href="https://blog.wei-lee.me/tags.html">Tags</a></li>
<li><a href="https://blog.wei-lee.me/archives.html">Archives</a></li>
<li><div id="search"></div></li>
</ul>
</div>
</div>
</div>
</div>
<div class="container-fluid">
<div class="row-fluid">
<div class="span1"></div>
<div class="span10">
<article data-pagefind-body="" itemscope="">
<div class="row-fluid">
<header class="page-header span10 offset2">
<h1>
<a href="https://blog.wei-lee.me/posts/tech/2018/11/clean-code">
                [Note] Clean Code
            </a>
</h1>
</header>
</div>
<div class="row-fluid">
<div class="span2 table-of-content">
<nav>
<h4>Contents</h4>
<div class="toc">
<ul>
<li><a href="#1">第1章：無暇的程式碼</a></li>
<li><a href="#2">第2章：有意義的命名</a></li>
<li><a href="#3">第3章：函式</a><ul>
<li><a href="#_1">錯誤處理</a></li>
<li><a href="#_2">參數</a></li>
<li><a href="#_3">如何寫出這樣函式？？？</a></li>
</ul>
</li>
<li><a href="#4">第4章：註解</a><ul>
<li><a href="#_4">有用的註解</a></li>
<li><a href="#_5">糟糕的註解</a></li>
</ul>
</li>
<li><a href="#5">第5章：編排</a><ul>
<li><a href="#_6">函式間的編排</a></li>
<li><a href="#_7">使用空行、空白</a></li>
</ul>
</li>
<li><a href="#6">第6章：物件及資料結構</a></li>
<li><a href="#7">第7章：錯誤處理</a></li>
<li><a href="#8">第8章：邊界</a></li>
<li><a href="#9">第9章：單元測試</a></li>
<li><a href="#10">第10章：類別</a><ul>
<li><a href="#_8">職責</a></li>
<li><a href="#_9">凝聚性</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div>
<div class="span8 article-content">
<p>既然都把 The Clean Coder 做完了<br/>
就順便把原本在 GitBook 的 The Clean Code 一起搬過來好了</p>
<p><img alt="clean code" src="/images/books/clean code.jpg"/></p>
<!--more-->
<blockquote>
<p>Lee-W @ 2020-10-08<br/>
隔了兩年又再回來翻這本書<br/>
這次除了打算把後面的章節全部看完外，也會重新把筆記順過一次</p>
<p>第四次把前十章看完後，感到一些原本似懂非懂的概念，變得理所當然<br/>
但依然會對巧妙的地方感到讚嘆</p>
</blockquote>
<h2 id="1">第1章：無暇的程式碼</h2>
<ul>
<li>LeBlanc's Law: 待會而等於永不<ul>
<li>待會兒再回來整理程式，等於讓程式一直限於髒亂</li>
</ul>
</li>
<li>髒亂的程式只會讓開發速度更慢。<strong>趕上期限的方法是隨時都確保程式儘可能的乾淨</strong></li>
<li>What is Clean Code?<ul>
<li>只做好一件事</li>
<li>可以被原作者以外的開發者閱讀與擴充的</li>
<li>Beck's rules for simple code<ul>
<li>通過所有測試</li>
<li>沒有重複的程式碼</li>
<li>充份表達系統設計的構思</li>
<li>具有最少的 entities (e.g., class, methods, functions, and etc.)</li>
</ul>
</li>
</ul>
</li>
<li>每一次修改程式碼之後，都得讓程式碼變得比修改之前再更乾淨<ul>
<li>童子軍原則: 每次你到過的營地，離開後要比之前更乾淨</li>
</ul>
</li>
</ul>
<h2 id="2">第2章：有意義的命名</h2>
<ul>
<li>Variables, methods, classes 要能解釋他們為什麼在這、做什麼用和怎麼使用它</li>
<li>變數名稱要唸得出來 (e.g., <del>genYMDHMS</del>)</li>
<li>較小的名稱如果能表達足夠的意義，通常比較長的名稱好，儘量減少再命名上不必要的文字</li>
<li>不要用變數型態作為變數名稱<ul>
<li>e.g., <code>accountList</code> → <code>accountGroup</code> or <code>accounts</code></li>
</ul>
</li>
<li>要區別名稱，用<strong>讀者能分辨的區別方式</strong>！！！<ul>
<li>e.g.,<ul>
<li><del>moneyAmount</del> → <code>money</code></li>
<li><del>customerInfo</del> → <code>customer</code></li>
</ul>
</li>
</ul>
</li>
<li>命名的長度應該要與 scope 大小對應<ul>
<li>一個常用到的變數或常數，最好給它一個容易被搜尋的名子</li>
</ul>
</li>
<li>詞性<ul>
<li>class, object → 名詞</li>
<li>method → 動詞</li>
</ul>
</li>
<li>替單一的概念選一個詞<ul>
<li>e.g., get, fetch, retrieve 混用是一件很糟的事</li>
</ul>
</li>
<li>避免用雙關語，或可以表達兩個意思的字<ul>
<li>e.g., 加入一個新的值 : <del>add</del> → append, insert</li>
</ul>
</li>
</ul>
<h2 id="3">第3章：函式</h2>
<ul>
<li>寫一個好的函式有兩個守則<ul>
<li>簡短</li>
<li>比簡短來得更簡短</li>
</ul>
</li>
<li>準則<ul>
<li>每行應該少於150字，函式應該少於20行</li>
<li>但最重要的是，<strong>每個函式都要能清楚的告訴你本身的意圖，並帶領你到下個函式</strong></li>
</ul>
</li>
<li><strong>別去害怕取較長的函數名稱</strong><ul>
<li>長但具描述性質 &gt; 註解 &gt; 短而無法理解</li>
</ul>
</li>
<li>降層準則： 由上而下閱讀的程式</li>
<li>Don't repeat yourself at any cost!!!</li>
<li><code>if</code>, <code>else</code>, <code>while</code> 這些敘述最好都只有一行，而那行通常是函式呼叫<ul>
<li>避免巢狀結構，<strong>函式內的縮排不該超過一或兩層</strong></li>
</ul>
</li>
<li><strong>函式應該只做好做一件事情</strong><ul>
<li>做一件事的函式不應該被合理的分成不同的段落 (e.g., 宣告區, 初始區... and etc.)</li>
</ul>
</li>
<li>函式要能<strong>做好某件事</strong>，或<strong>回答某個問題</strong>，而這代表<strong>兩者不該同時發生！！！</strong></li>
</ul>
<div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="s">"username"</span><span class="p">,</span><span class="w"> </span><span class="s">"bob"</span><span class="p">))</span><span class="w"> </span><span class="p">......</span>

<span class="c1">// refactored</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">attrExists</span><span class="p">(</span><span class="s">"userName"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setAttr</span><span class="p">(</span><span class="s">"userName"</span><span class="p">,</span><span class="w"> </span><span class="s">"bob"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<h3 id="_1">錯誤處理</h3>
<ul>
<li>用例外處理取代錯誤碼回傳<ul>
<li>而錯誤處理是會混淆程式結構的，比較好的作法就是把 try catch 區塊提出來</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deletePage</span><span class="p">(</span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">E_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">registry</span><span class="p">.</span><span class="na">deleteReference</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">E_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configKeys</span><span class="p">.</span><span class="na">deleteKey</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">makeKey</span><span class="p">())</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">E_OK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"page deleted"</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"configKey not delete"</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"deleteReference from registry failed"</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"delete failed"</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// refactored</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">deletePage</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
<span class="w">    </span><span class="n">registry</span><span class="p">.</span><span class="na">deleteReference</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">);</span>
<span class="w">    </span><span class="n">configKeys</span><span class="p">.</span><span class="na">deleteKey</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">makeKey</span><span class="p">());</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// even more refactored</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">Page</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">deletePageAndAllReferences</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">logError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deletePageAndAllReferences</span><span class="p">(</span><span class="n">Page</span><span class="w"> </span><span class="n">page</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">deletePage</span><span class="p">(</span><span class="n">page</span><span class="p">);</span>
<span class="w">    </span><span class="n">registry</span><span class="p">.</span><span class="na">deleteReference</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">);</span>
<span class="w">    </span><span class="n">configKeys</span><span class="p">.</span><span class="na">deleteKey</span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">makeKey</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">logError</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
<h3 id="_2">參數</h3>
<ul>
<li>函式最好是不使用到參數，可以的話不要超過3個<ul>
<li>除非有非常特殊的理由，否則都不該超過3個</li>
</ul>
</li>
<li><strong>別傳flag參數(e.g. isSutie)進入函式</strong>，那代表這個函式一定做超過一件事！！！</li>
<li>單一參數函式<ul>
<li>問與這個參數有關的問題 (e.g., <code>fileExists("MyFile")</code>)</li>
<li>對這個參數進行操作，並且 <strong>回傳</strong></li>
<li>事件，利用參數去改變系統的狀態</li>
</ul>
</li>
<li>2 ~ 3 個參數<ul>
<li>注意參數順序性</li>
</ul>
</li>
<li>利用建立物件的方式，減少函式參數的數量</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">Circle</span><span class="w"> </span><span class="nf">makeCircle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">);</span>
<span class="c1">// refactored</span>
<span class="n">Circle</span><span class="w"> </span><span class="nf">makeCirecle</span><span class="p">(</span><span class="n">Point</span><span class="w"> </span><span class="n">center</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">radiue</span><span class="p">);</span>
</pre></div>
<ul>
<li>避免使用輸出型參數，這十分的讓人困惑</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">appendFooter</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

<span class="c1">// refactored</span>
<span class="n">s</span><span class="p">.</span><span class="na">appendFooter</span><span class="p">();</span>
</pre></div>
<h3 id="_3">如何寫出這樣函式？？？</h3>
<p>一直修改和重構，直到足夠精簡<br/>
不用一開始就要寫到最精簡，實際上那也是辦不到的</p>
<h2 id="4">第4章：註解</h2>
<ul>
<li><strong>不要替糟糕的程式碼寫註解 ─ 重寫它！！！</strong></li>
<li>即使是適當的使用註解，也只是用來彌補程式碼表達意思的失敗<ul>
<li>每次要寫註解時，先思考是否能<strong>直接用程式碼表達</strong></li>
</ul>
</li>
<li>註解只應該描述附近的程式碼，不要在區域性註解內放入系統全域資訊</li>
<li>替只做一件事的小函式選一個好名稱，多半比將註解寫在函式標頭優雅</li>
</ul>
<h3 id="_4">有用的註解</h3>
<ul>
<li>提供資訊的註解</li>
</ul>
<div class="highlight"><pre><span></span><span class="c1">//format matched kk:mm:ss EEE, MMM dd, yyyy</span>
<span class="n">Pattern</span><span class="w"> </span><span class="n">tiMatcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pattern</span><span class="p">.</span><span class="na">compile</span><span class="p">(</span>
<span class="w">    </span><span class="s">"\\d*:\\d*:\\d* \\w*, \\w* \\d*, \\d*"</span>
<span class="p">)</span>
</pre></div>
<ul>
<li>對後果的告誡： 警告會出現某種特殊後果的註解</li>
<li>TODO</li>
<li>公開 API 中的 Javadoc</li>
</ul>
<h3 id="_5">糟糕的註解</h3>
<ul>
<li>大部分的註解</li>
<li>多餘的註解： 沒比程式碼本身透露更多資訊的註解</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nf">Person</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">person</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<ul>
<li><del>每個函式，每個變數都該有註解來說明</del>。<strong>不，別這麼做</strong></li>
<li>把暫時無用的程式碼註解掉並留著，是很惱人的 → 版本控制會幫我們記下它</li>
</ul>
<h2 id="5">第5章：編排</h2>
<ul>
<li>選擇一些簡單的縮排規則，並持續的運用它<ul>
<li>如果在一個團隊，所有成員都該依循著一套統一的編排規則</li>
</ul>
</li>
<li>團隊合作時，事先決定編排方式是值得的<ul>
<li>該在哪裡放括號</li>
<li>縮排寬度多少</li>
<li>如何命名變數、類別、方法</li>
</ul>
</li>
<li>編排是一種溝通方式，可以嚴重影響可讀性，所以我們要很重視它</li>
<li>垂直邊排： 一份程式檔大概多長比較好？<ul>
<li>一份重要的大型專案也可以在大多數程式檔都只有200行左右的情況下完成</li>
<li>這沒有硬性規定。但要知道<strong>簡短的程式檔總是比大型的程式檔容易理解</strong></li>
</ul>
</li>
<li>變數應該被宣告在接近它被使用的地方<ul>
<li>區域變數應該在函式的最上方被宣告</li>
<li>迴圈的控制變數應該在回圈敘述內宣告</li>
</ul>
</li>
</ul>
<h3 id="_6">函式間的編排</h3>
<ul>
<li>如果一個函式呼叫了另一個函式，這個函式最好放在被呼叫函式的上方</li>
<li>概念高度相似的函式也應該垂直的放在一起<ul>
<li>也許是類似的命名或相同工作的變異版本，就算沒相互呼叫，還是應該放在一起</li>
</ul>
</li>
<li>談到了垂直的寬度後，那水平的寬度呢?<ul>
<li>雖然我們喜歡較短的程式碼，但只要是<strong>不需要用到捲軸捲到右方就可以稱為適當的寬度</strong></li>
</ul>
</li>
<li>有時候if, while或簡單的函式，可以被縮減為一行，讓我們違反一般的縮排規則，<strong>不建議這麼做</strong></li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">render</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="s">""</span><span class="p">;}</span>

<span class="c1">//better</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">render</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">""</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3 id="_7">使用空行、空白</h3>
<ul>
<li>每一段程式碼都代表一個完整思緒，而我們用空行來區隔它們<ul>
<li>而如果程式碼們是相關的，它們就該是垂直緊密的</li>
<li>相似的概念應該要放在同一份檔案中</li>
</ul>
</li>
<li>我們用水平的空白來區分高度和低度相關的概念，也可以作為強調用，下面的程式碼是書中一個很棒的例子<ul>
<li>注意到return那行，這裡用空格來強調運算子的優先權</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Quadratic</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">root1</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">determinant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">determinant</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sqrt</span><span class="p">(</span><span class="n">determinant</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">......</span>
<span class="p">}</span>
</pre></div>
<h2 id="6">第6章：物件及資料結構</h2>
<ul>
<li><strong>資料結構容易新增函式，而物件容易增加新類別。</strong> 反之亦然</li>
<li>模組不該知道它操作的物件的內部操作</li>
<li>別使用一連串的程式呼叫</li>
</ul>
<div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">outputDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctxt</span><span class="p">.</span><span class="na">getOptions</span><span class="p">().</span><span class="na">getScratchDir</span><span class="p">().</span><span class="na">getAbsolutePaty</span><span class="p">();</span>

<span class="c1">//refactored</span>
<span class="n">Option</span><span class="w"> </span><span class="n">opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctxt</span><span class="p">.</span><span class="na">getOptions</span><span class="p">();</span>
<span class="n">File</span><span class="w"> </span><span class="n">scratchDir</span><span class="w"> </span><span class="o">=</span><span class="n">opts</span><span class="p">.</span><span class="na">getScractchDir</span><span class="p">();</span>
<span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">outputDir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scratchDir</span><span class="p">.</span><span class="na">getAbsolutePath</span><span class="p">();</span>
</pre></div>
<h2 id="7">第7章：錯誤處理</h2>
<ul>
<li>例外處理應該要能提供<strong>有用的錯誤訊息</strong>，<ul>
<li>e.g, 哪裡發生錯誤、錯誤型態是什麼</li>
</ul>
</li>
<li>別回傳 null，試著拋出例外事件是更好的作法<ul>
<li>函式回傳 null 已經夠糟了，但傳遞 null 進去更是糟糕透頂</li>
</ul>
</li>
<li>Wrapper: 從呼叫者的角度定義例外class -&gt; 減少依賴</li>
</ul>
<p>Wrapper Example</p>
<div class="highlight"><pre><span></span><span class="c1">// original</span>
<span class="n">ACMEPort</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ACMEPort</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>

<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">port</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">DeviceResponseException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">reportPortError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"Device response exception"</span><span class="p">,</span><span class="w"> </span><span class="s">"e"</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ATM1212UnlockedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">reportPortError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"ATM1212UnlockedException"</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">HMXError</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">reportPortError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">"Device response exception"</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>


<span class="c1">// refactored</span>
<span class="n">LocalPort</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LocalPort</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">port</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">PortDeviceFailure</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">reportPortError</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">getMessage</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LocalPort</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ACMEPort</span><span class="w"> </span><span class="n">innerPort</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">LocalPort</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">portNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">innerPort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ACMEPort</span><span class="p">(</span><span class="n">portNumber</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">open</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">innerPort</span><span class="p">.</span><span class="na">open</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">DeviceResponseException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PortDeviceFailure</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ATM1212UnlockedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PortDeviceFailure</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">GMXError</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PortDeviceFailure</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h2 id="8">第8章：邊界</h2>
<ul>
<li>學習型測試： 不在產品程式（production）裡實驗新的東西，而是另外寫測試程式，來了解第三方軟體<ul>
<li>學習型測試不會花太多額外時間（因為原本就要研究 API），而且能用來<strong>確認第三方軟體是否能照我們預期的執行</strong></li>
<li>如果沒有這種<strong>邊界測試</strong>來減輕版本更新時的整合負擔，我們<strong>只能一直停留在舊的版本</strong></li>
</ul>
</li>
<li>避免我們的程式過度的使用第三方軟體的特殊之處，最好是依靠在可以控制的程式之上。免得到最後反而受到第三方軟體的控制</li>
<li>使用尚未存在的程式（e.g., 尚未開定義好）<ul>
<li>自行定義介面，並用 adapter 封裝與 API 的互動<ul>
<li>額外的好處是如果 API 升級，也只需要改動 adapter</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="9">第9章：單元測試</h2>
<ul>
<li>為什麼要寫測試？<ul>
<li>測試讓程式保有彈性</li>
<li>不用怕修改程式會造成程式結果不如預期</li>
</ul>
</li>
<li>測試程式跟產品程式一樣重要，一樣需要整潔<ul>
<li><strong>可讀性</strong>造就了整潔的測試程式</li>
<li>但是測試程式並不需要產品程式一樣的有效率</li>
</ul>
</li>
<li>整潔測試程式的 5 個原則 F.I.R.S.T.<ol>
<li>Fast: 能快速的被執行</li>
<li>Independent: 測試程式不該相互依賴</li>
<li>Repeatable: 可以在任何環境重複執行</li>
<li>Self-Validating: 輸出 boolean ，你不該手動比較兩個檔案才知道有沒有通過測試</li>
<li>Timely: 單元測試要在恰好能使其通過的產品程式<strong>之前</strong>不久撰寫</li>
</ol>
</li>
<li>BUILD-OPERATE-CHECK<ol>
<li>建立測試資料</li>
<li>操作測試資料</li>
<li>檢查「操作測試資料」後的結果是否如預期</li>
</ol>
</li>
<li><del>一個測試只能有一個assert</del> → <strong>一個測試只測試一個概念</strong></li>
<li>TDD (Test Driven Development) 三大法則<ol>
<li>在撰寫一個單元測試前，不可撰寫任何產品程式</li>
<li>只撰寫剛好無法通過的單元測試，不能編譯也算無法通過</li>
<li>只撰寫剛好能通過當前測試的產品程式</li>
</ol>
</li>
</ul>
<h2 id="10">第10章：類別</h2>
<ul>
<li>Java的慣例<ul>
<li>類別以變數開頭<ul>
<li><code>public static final</code> → <code>private static</code> → <code>private</code> &gt;&gt;&gt;&gt;&gt; <code>public</code> (幾乎很少有理由要用到)</li>
</ul>
</li>
<li>public 函式緊跟在變數</li>
<li>private 的工具函式，會跟在呼叫它的函式後</li>
</ul>
</li>
<li>不用過度執著於封裝，有時候為了讓測試程式存取， protected 是必要的</li>
<li>設計程式時，一次只專注在「讓程式運作」或「讓程式整潔」之一，而兩者是同樣重要的</li>
<li>系統應該要由很多小的 class 組成，而不是少數的大 class 組成</li>
<li>我們架構的系統，在未來想新增或修改功能時，應該要儘可能不動到其他程式碼</li>
<li><strong>開放閉合原則</strong>： 類別應該要對擴充有開放性，對修改有封閉性</li>
<li><strong>相依性反向原則</strong>： 類別應該要相依於抽象概念，而不是相依在具體細節</li>
</ul>
<h3 id="_8">職責</h3>
<ul>
<li>class 除了簡短還是要簡短<ul>
<li>在函式計算行數，class算的是<strong>職責的數量</strong></li>
</ul>
</li>
<li>class的命名要能足夠描寫他的職責<ul>
<li>如果無法取個明確的名稱，這個 class 可能就太大了</li>
<li>模稜兩可的名稱，代表 class 可能包含愈多的職責，而這是我們不希望的</li>
<li>用 25 個字詞為這個 class 寫出簡短的描述，而不使用到模糊的字眼，這樣的 class 就是職責數量恰當</li>
</ul>
</li>
<li><strong>單一職責原則</strong>： 一個 class 或 module 應該有也只能有一個修改的理由</li>
</ul>
<h3 id="_9">凝聚性</h3>
<ul>
<li>class 只應該要有少量的實體變數， class 的每個方法都應該操作一個或更多這些變數</li>
<li>不用也不太可能產生最大凝聚性類別<ul>
<li>但當凝聚性增加，就代表方法和變數結合成一個邏輯的整體，這是我們所希望的</li>
</ul>
</li>
<li>class 累積越來越多實體變數，但只有少數函式操作著他們，就會開始喪失凝聚性<ul>
<li>而這就是應該拆開 class 的時候了！！！</li>
<li>不用重新撰寫程式，而是應該改變它<ul>
<li>先寫好一套驗證的測試程式，一次一個地改變</li>
<li>每一次變動都重新驗證是否如預期執行</li>
<li>重構完成</li>
</ul>
</li>
</ul>
</li>
</ul>
<p id="post-share-links">
    Share on:
      <a href="https://twitter.com/intent/tweet?text=%5BNote%5D%20Clean%20Code&amp;url=https%3A//blog.wei-lee.me/posts/tech/2018/11/clean-code&amp;hashtags=note,software-engineering" rel="nofollow noopener noreferrer" target="_blank" title="Share on Twitter">Twitter</a>
 ❄       <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//blog.wei-lee.me/posts/tech/2018/11/clean-code" rel="nofollow noopener noreferrer" target="_blank" title="Share on Facebook">Facebook</a>
 ❄       <a href="mailto:?subject=%5BNote%5D%20Clean%20Code&amp;body=https%3A//blog.wei-lee.me/posts/tech/2018/11/clean-code" rel="nofollow noopener noreferrer" target="_blank" title="Share via Email">Email</a>
<section>
<h6 style="display:none;">Comments</h6>
<p id="comment-message">Do you like this article? What do your tink about it? Leave you comment below </p>
<div class="accordion" id="accordion2">
<div class="accordion-group">
<div class="accordion-heading">
<a class="accordion-toggle disqus-comment-count comment-count collapsed" data-parent="#accordion2" data-toggle="collapse" href="https://blog.wei-lee.me/posts/tech/2018/11/clean-code#comment_thread" id="comment-accordion-toggle">
                    Comments
                </a>
</div>
<div class="accordion-body collapse" id="comment_thread">
<div class="accordion-inner">
<div class="comments">
<script async="" crossorigin="anonymous" data-issue-term="https://blog.wei-lee.me/posts/tech/2018/11/clean-code" data-label="comment" data-repo="Lee-W/main-blog" data-theme="" src="https://utteranc.es/client.js">
</script>
</div>
</div>
</div>
</div>
</div>
</section>
<hr/>
</p></div>
<section class="span2" id="article-sidebar">
<h4>Published</h4>
<time datetime="2018-11-16T17:08:00+08:00" itemprop="dateCreated">2018/11/16 - Fri</time>
<h4>Last Updated</h4>
<time datetime="2020-10-08T16:12:00+08:00">2020/10/08 - Thu</time>
<h4>Read Time</h4>
                3 min
            <h4>Category</h4>
<a class="category-link" href="https://blog.wei-lee.me/categories.html#tech-ref">Tech</a>
<h4>Tags</h4>
<ul class="list-of-tags tags-in-article">
<li><a href="https://blog.wei-lee.me/tags.html#note-ref">Note
                    <span class="superscript">4</span>
</a></li>
<li><a href="https://blog.wei-lee.me/tags.html#software-engineering-ref">Software Engineering
                    <span class="superscript">4</span>
</a></li>
</ul>
<h4>Keep In Touch</h4>
<div id="sidebar-social-link">
<a href="https://tw.linkedin.com/in/clleew" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="LinkedIn" fill="#fff" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#0077b5" height="512" rx="15%" width="512"></rect><circle cx="142" cy="138" r="37"></circle><path d="M244 194v198M142 194v198" stroke="#fff" stroke-width="66"></path><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"></path></svg>
</a>
<a href="https://github.com/Lee-W" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="GitHub" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#1B1817" height="512" rx="15%" width="512"></rect><path d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z" fill="#fff"></path></svg>
</a>
<a href="https://twitter.com/clleew" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="Twitter" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#1da1f3" height="512" rx="15%" width="512"></rect><path d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37" fill="#fff"></path></svg>
</a>
<a href="https://blog.wei-lee.me/feeds/all.atom.xml" rel="nofollow noopener noreferrer" target="_blank" title="">
<svg aria-label="RSS" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><rect fill="#f80" height="512" rx="15%" width="512"></rect><circle cx="145" cy="367" fill="#fff" r="35"></circle><path d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276" fill="none" stroke="#fff" stroke-width="60"></path></svg>
</a>
</div>
</section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div aria-hidden="true" class="pswp" role="dialog" tabindex="-1">
<!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
<div class="pswp__bg"></div>
<!-- Slides wrapper with overflow:hidden. -->
<div class="pswp__scroll-wrap">
<!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
<div class="pswp__container">
<div class="pswp__item"></div>
<div class="pswp__item"></div>
<div class="pswp__item"></div>
</div>
<!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
<div class="pswp__ui pswp__ui--hidden">
<div class="pswp__top-bar">
<!--  Controls are self-explanatory. Order can be changed. -->
<div class="pswp__counter"></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title="Share"></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
<!-- element will get class pswp__preloader--active when preloader is running -->
<div class="pswp__preloader">
<div class="pswp__preloader__icn">
<div class="pswp__preloader__cut">
<div class="pswp__preloader__donut"></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class="pswp__share-tooltip"></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class="pswp__caption">
<div class="pswp__caption__center"></div>
</div>
</div>
</div>
</div> </div>
<div class="span1"></div>
</div>
</div>
</div>
<footer>
<div>
<a href="http://creativecommons.org/licenses/by/4.0/" rel="license">
<img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" style="border-width:0"/>
</a>
<br/>
This work is licensed under a
<a href="http://creativecommons.org/licenses/by/4.0/" rel="license">
    Creative Commons Attribution 4.0 International License
</a>.

    </div>
<div id="fpowered">
        Powered by: <a href="http://getpelican.com/" rel="nofollow noopener noreferrer" target="_blank" title="Pelican Home Page">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" rel="nofollow noopener noreferrer" target="_blank" title="Theme Elegant Home Page">Elegant</a>
</div>
</footer> <script src="//code.jquery.com/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="https://blog.wei-lee.me/theme/js/elegant.prod.9e9d5ce754.js"></script>
<script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
<script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>
<script src="/pagefind/pagefind-ui.js"></script>
<script>
            window.addEventListener('DOMContentLoaded', (event) => {
                new PagefindUI({
                    element: "#search",
                    showImages: false,
                });
            });
        </script>
</body>
<!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>